(function(x){var u=window.AmazonUIPageJS||window.P,ea=u._namespace||u.attributeErrors,e=ea?ea("DetailPageImageBlockAssets",""):u;e.guardFatal?e.guardFatal(x)(e,window):e.execute(function(){x(e,window)})})(function(x,u,ea){x.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(e,a){try{var b=e.$,g=b("#featurebullets_feature_div"),n=b("#productOverview_feature_div");if(g&&0<g.length&&(a.postCountMetric("FeatureBulletsRendered.GV"),n&&0<n.length)){a.postCountMetric("FeatureBulletsRenderedWithPO.GV");
var d=b("#featurebullets_feature_div .a-expander-container");d&&0<d.length&&"feature-bullets-expander"===d.data("aExpanderName")&&(a.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),e.on("a:expander:feature-bullets-expander:toggle:expand",function(b){a.postCountMetric("FeatureBulletsInteraction.Expanded")}),e.on("a:expander:feature-bullets-expander:toggle:collapse",function(b){a.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(q){x.log("Feature bullets metric logging failed with error: ( "+
q+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";x.register("postMetric",function(){return{postCountMetric:function(e){if("undefined"!==typeof e){var a=u.ue;if(a){var b=a.count(e)||0;a.count(e,b+1)}}},postTimeMetric:function(e,a){if("undefined"!==typeof e&&"undefined"!==typeof a){var b=u.ue;b&&b.count(e,a)}},emitNexusMetric:function(e){u.ue&&ue.event&&ue.event(e,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(e,a,b,g,n,d,q,k){return{eventSource:"IBCarousel",
placementContext:k,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:e,intPayload:a,videoAsin:b,videoAsinList:"",groupType:g,pageUrl:n,pageAsin:d,weblabIds:q}}}});"use strict";x.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});x.register("postEarlyMetric",function(){return null});"use strict";x.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(e,a,b,g){e=e.extend(!0,{},b,g);var n=new a(e);x.register("ImageBlockAPI",
function(){return n.api});return n});"use strict";x.when("A","jQuery").execute(function(e,a){e.on("a:image:load:landingImage",function(){u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(a("#landingImage"))});"use strict";x.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function a(a){a&&(x.load.js(a),u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",u.parseInt(performance.now())))}
function b(a){a&&x.load.css(a)}var g=e.airyConfig;g===ea?x.when("ImageBlockBTF").execute(function(e){g=e.airyConfig;a(g.jsUrl);b(g.cssUrl)}):(a(g.jsUrl),b(g.cssUrl))});"use strict";x.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(e,a,b,g,n){var d={};return function(q){var k=this;k.dispatch=function(a,b){var k=d[a];g.isDefined(k)&&e.each(k,function(a,d){d.call(u,b)})};k.register=function(a,b){g.isDefined(d[a])||(d[a]=[]);
"function"===typeof b&&d[a].push(b)};k.model=new a(q,k);k.view=new b(q,k,k.model);k.api=new n(q,k,k.model);k.init=function(){k.model.init();k.view.init()};k.init()}});"use strict";x.when("A","imageBlockUtils").register("ImageBlockModel",function(e,a){function b(b,d,e,g,k,q){a.isDefined(b)&&(p.type=b);a.isDefined(d)&&(p.index=d);a.isDefined(e)&&(p.thumbnailIndex=e);a.isDefined(g)&&(p.variant=g);a.isDefined(k)&&(p.color=k);p.shoppableScene=q||null}function g(a){b("image",0,0,"MAIN",a||k.landingAsinColor||
k.defaultColor,null)}function n(a){a=a.data;N=e.copy(p);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function d(a){n(a);a=e.copy(a);a.data=e.copy(p);r.dispatch("updateView",a)}function q(){N=e.copy(p);g(p.color)}var k,r,p={},N={},M,u;return function(a,C){r=C;k=a;r.register("updateSelection",d);r.register("updateModel",n);r.register("resetModel",q);this.init=function(){g()};this.getCurrentItem=function(){return e.copy(p)};this.getPreviousItem=function(){return e.copy(N)};this.setCurrentEvent=
function(a){M=a};this.getCurrentEvent=function(){return M};this.setImmersiveViewModalInstance=function(a){u=a};this.getImmersiveViewModalInstance=function(){return u};this.updateTitle=function(a){k.title=a};this.setToPreviousItem=function(){b(N.type,N.index,N.thumbnailIndex,N.variant,N.color,N.shoppableScene)};this.setToCurrentItem=function(a){b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";x.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",
function(e,a){function b(a,b,g,k,r){function p(a){"click"===a.type&&k.postCountMetric("thumbClick");"click"===a.type&&c.overrideAltImageClickAction?h.dispatch("thumbActionClick",a):h.dispatch("updateSelection",a)}function N(a){c.useClickZoom||h.dispatch("imageClick",a)}function M(a){c.useClickZoom||h.dispatch("imageHover",a)}function G(a){h.dispatch("button360Click",a)}function t(b){!g.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(E.update(b),"swatchHover"!==b.type&&A.getPreviousItem().thumbnailIndex!==
b.data.thumbnailIndex&&k.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):(E.render(b.data.color,!1,b.onload,b.type),b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof u.markFeatureRender&&u.markFeatureRender("imageblock",b))}function C(a){h.dispatch("resize",a)}function P(a){g.selectThumbnail(a,z)}function U(){if("function"===typeof u.markFeatureInteractive){var a=[],b=[];c.interactiveCallJSPEnabled?(a=["scroll"],
b=["click"]):(a=["hover"],b=["click","hover"]);u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",events:b,alwaysInteractive:!0}]})}}function T(){"function"===typeof u.markFeatureInteractive&&u.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function R(){if(!c.interactiveCallJSPEnabled||e.useIV)U(),1===e.useIV?x.when("a-modal").execute(function(){T()}):
T();c.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],p);a.declarative("thumb-action",["click"],p);a.declarative("main-image-click",["click"],N);a.declarative("main-image-click",["mouseenter","mouseleave"],M);a.declarative("button-360-click",["click"],G);a.on("resize",C)}function O(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function I(a){var b=A.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function m(a){g.isImageBlockGridViewHoverDelayEnabled()&&
"mouseenter"===a.type&&g.updateThumbnailHoverDelay(a.$target)}var E,c,h,A,z;return function(a,g,e){E=this;c=a;h=g;A=e;z=b("#imageBlock #altImages ul");var k=b("#imageBlock .canvas"),q=b("#main-image-container"),n;E.subViews=[];for(g=0;g<r.length;g++)E.subViews.push(new r[g](a,e,E,h));E.render=function(a,h,l,f){var B=0;z.find(".item").remove();a=a||A.getCurrentItem().color;b.each(E.subViews,function(b,d){B=(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?d.render(a,B,k,z,q,h,l,
f):d.render(a,B,k,z,q,h,l))||B});var g=z.find(".a-button-selected").closest(".a-declarative");n=I(g)};E.init=function(){z=b("#imageBlock #altImages ul");var a=z.find(".a-button-selected").closest(".a-declarative"),g=a.data("action"),a=a.data(g)||{};a.color=c.landingAsinColor||c.defaultColor;h.dispatch("updateModel",{data:a});E.render(a.color,!0);c.isDebug&&u.console&&console.log(c);h.register("updateView",t);h.register("selectThumbnail",P);R()};E.update=function(a){m(a);b.each(E.subViews,function(b,
c){c.update(a)});c.usePeekHover&&("mouseleave"===a.type?h.dispatch("updateSelection",n):"click"===a.type&&(n=O(a)||n))}}}var g=["A","jQuery","imageBlockUtils","postMetric"].concat(e.views);x.when.apply(x,g).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],g=arguments[2],e=arguments[3],r=[],p=4,N=arguments.length;p<N;p++)r.push(arguments[p]);return b(a,d,g,e,r)})});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric").register("ImageBlockAltImageView",function(e,a,b,g,n,d,q){function k(B,f,c,l){if(!b.isjQueryObjDefined(B.find(".a-button-selected"))){var w=A.getCurrentItem();if(!l||"chromeless-video"!==w.type||!h.autoplayVideo)if(l=0,"image"===w.type&&(l=Math.max(M(w.color,w.variant),0)),!(w.thumbnailIndex>=h.maxAlts&&0!=l)){var d=f+l;d>=c&&(l=0,d=f);f=b.getImageHash(w.color,l,h);-1!==f&&(z.dispatch("updateModel",{data:{index:l,thumbnailIndex:d,variant:f.variant,type:"image",shoppableScene:f.shoppableScene}}),
f=B.find(".item").get(d),b.selectGivenThumbnail(a(f),B))}}}function r(B,f,c){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&c)return B;var l=h.colorImages&&h.colorImages[f];f=B;2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=l.length||b>=h.maxAlts)&&a(this).remove()});b.isDefined(l)&&(a.each(l,function(f,c){if(B<h.maxAlts)if(2===h.unrolledImageBlockTreatment||
3===h.unrolledImageBlockTreatment){B++;var l=a(".thumbItemUnrolled");l[f]?l[f].querySelector("img").src=c.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+f+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+B+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+B+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
B+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else b.createThumbnail({type:"image",index:f,thumbnailIndex:B,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,S,"imageThumbnail"),B++}),d.isEnabled&&q.logAltImgRequestPlacedOnThumbnails(a,d,A),k(S,f,B,c));return B}function p(a,f){h.useIV&&b.isDefined(f.hiRes)&&a.css("cursor","pointer")}function N(B,f){if("image"===B.type){var c=
a("#image-canvas-caption #canvasCaption"),l,w=h.staticStrings,d=h.colorImages,g=B.color,e=B.index;b.isShoppableScenesEnabled()&&B.shoppableScene?l=w.clickSceneTagsToShopProducts:f&&h.useIV?l=w.clickToExpand:d[g]&&d[g][e].hiRes&&h.useHoverZoom?(l=h.useHoverZoomIpad?w.touchToZoom:h.useClickZoom?w.clickToZoom:w.rollOverToZoom,h.hoverZoomIndicator&&(l="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+l)):h.useIV&&(l=w.clickToExpand);c.html(l)}}function M(a,f){return b.getIndexForVariant(a,
f,h)}function G(a,b,c){var d=b.thumbnailIndex,w=h.colorToAsin[b.color]&&h.colorToAsin[b.color].asin;b="altImageHover"===c&&H&&H.altImageIdx===d&&H.asin===w&&"swatchClick"===H.event?!0:"swatchHover"===c?H&&H.asin===w&&H.event===c:H&&H.altImageIdx===d&&H.asin===w&&H.event===c;if(!b){var g="#",e=a.find(".imgTagWrapper img").get(0);e&&(g=e.src);a=new Image;a.onload=function(){if(e){e.src=g;var a=e.width,b=e.height,B=e.naturalWidth,h=e.naturalHeight;try{var m=(Math.abs(a/B*h-b)/b).toFixed(2);.01<m&&(u.ue&&
((("landing"!==c||l||f)&&"swatchClick"!==c||u.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?u.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||f?"altImageHover"!==c||l||(u.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),l=!0):(u.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),f=!0)),u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},u.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
w+" Event:"+c+" Diff:"+m.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+w+" at altImageIdx "+d+" Event:"+c+" Diff:"+m.toString()+"]"},a)))}catch(k){u.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},u.ueLogError(k,a))}}};"#"!==g&&(a.src=g);H.altImageIdx=d;H.asin=w;H.event=c}}function t(f,c){var l="a-dynamic-image";if(!h.acEnabled){var d;a.each(f.main,function(a,f){b.isDefined(d)||(d=parseFloat(f[1]/f[0])<=parseFloat(h.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});l+=d}var w=b.getMaxDimensionsOfMainImage(f.main,L,h),g=w[0],e=w[1],w=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":e};w.addClass(l).css(g).attr({"data-old-hires":f.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",f.main);return w}function C(a,b,f){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",c,{wb:1});f.attr("data-a-image-name","shoppable-scene:"+a);f=v.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
f.addClass("celwidget").attr("cel_widget_id",c);f.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:f.find(".mirai-scene-tag-placeholder"),$viewProductsButton:f.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(f,c){f.forEach(function(f){"childList"===f.type&&f.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===f.addedNodes.length&&"IMG"===f.addedNodes[0].tagName&&""!==f.addedNodes[0].src&&(f=f.addedNodes[0],"function"!==typeof f.onload&&(f.onload=function(){e.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),c.disconnect())})})).observe(f.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return f}function P(a,f,c){c=t(a,c);a=b.isShoppableScenesEnabled()&&a.shoppableScene?C(f,a,c):v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+f+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":f+1});a.find(".placeHolder").replaceWith(c);v.find(".list").append(a);e.loadImageManually(c);return a}function U(a){var b=L.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");h.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function T(a){if(a.isUserGenerated){var f=
A.getPreviousItem(),c=a.variant;b.isDefined(c)&&f.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&q.logAltImgRequestServed(d),n.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===c.indexOf("IG")&&(n.postCountMetric("IGImageSelectedVariant:"+c),n.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function R(c,d,g,m){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&!m&&"unavailable"!==c.type){if(c=h.colorImages&&h.colorImages[g],a(".unrolledImg").each(function(b){a(this).remove()}),
b.isDefined(c)&&(a.each(c,function(b,f){if(b<h.maxAlts){var c=a(".unrolledImg");c[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+f.large+'" data-a-hires\x3d"'+f.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=c.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+f.large+'" data-a-hires\x3d"'+f.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),e.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),g=b.isDefined(d)))n.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
d()}else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){(g=b.isDefined(d))&&n.postCountMetric("mainImageUpdateOnTwisterVariationClick");m=b.getImageHash(c.color,c.index,h);if(-1===m)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},b.lazyLoadingRequired(c,A,h)||(z.dispatch("updateModel",d),b.showUnavailable(c.color)),-1;var w=v.find(".item.itemNo"+c.thumbnailIndex);b.isjQueryObjDefined(w)||(w=P(m,c.thumbnailIndex,d),g?(f=l=!1,G(w,c,"swatchClick")):G(w,
c,"altImageHover"));U(w);z.dispatch("loadMagnifier");N(c);p(w,m);T(c);e.trigger("dp:image-block:update",m)}}function O(a){var f=Math.max(M(a.color,A.getCurrentItem().variant),0),f=b.getImageHash(a.color,f,h);if(-1===f)return b.lazyLoadingRequired(a,A,h)||b.showUnavailable(a.color),-1;var c=v.find(".swatchHoverExp"),l=t(f);c.find(".imgTagWrapper").html(l);e.loadImageManually(l);n.postCountMetric("mainImageUpdateOnTwisterVariationHover");U(c);G(c,a,"swatchHover");e.trigger("dp:image-block:update",f)}
function I(f,c){b.lazyLoadingRequired(f,A,h)||(a("#imageBlock").css("opacity","1"),v.css("opacity","1"),b.spinner(v,!1),v.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),c&&v.find(".list .item").remove())}function m(){var f=v.find(".item .imgTagWrapper"),c=b.getContainerHeight(L,h.holderRatio,h.holderMaxHeight);0<c&&(L.height(c),f.height(c));v.find("img.a-dynamic-image").each(function(){var f=a(this);f.data("a-manual-replacement")&&e.loadDynamicImage(this);
var c=f.data("a-dynamic-image"),c=b.getMaxDimensionsOfMainImage(c,L,h);f.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function E(a){N(A.getCurrentItem(),"mouseenter"===a.type)}var c,h,A,z,K,Q,S,v,L,H={},D,J=null,l=!1,f=!1;e.on("triggerImageAjax",function(a){var f=A.getCurrentItem().color;h.colorImages[f]||(h.colorImages[f]=a);a={type:"updatedData",data:A.getCurrentItem()};z.dispatch("updateView",a);(f=h.colorToAsin[f])&&f.asin&&x.register(b.rankedImagesReadyEvent(f.asin))});return function(f,
l,d,g){c=this;h=f;A=l;z=g;h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];c.render=function(f,c,l,d,g,e,B,m){v=2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment?l:a(".unrolledScrollBox");S=d;L=g;D=r(c,f,e);e?0===c&&G(v.find(".item.itemNo0"),A.getCurrentItem(),"landing"):(c=A.getCurrentItem(),b.lazyLoadingRequired(c,A,h)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));I(A.getCurrentItem(),!e);2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment?
"swatchClick"===m&&h&&h.colorImages?(J=h.colorImages[f],R(A.getCurrentItem(),B,f,e)):"updatedData"===m&&h&&h.colorImages&&h.colorImages[f]!==J&&(J=h.colorImages[f],R(A.getCurrentItem(),B,f,e)):R(A.getCurrentItem(),B,f,e);return D};b.isImageBlockGridViewHoverDelayEnabled()?c.update=function(a){var f=a.data;A.setCurrentEvent(a);"ingress"!==f.type&&"swatchHover"!==a.type&&(A.setToPreviousItem(),"mouseenter"===a.type?(Q&&clearTimeout(Q),Q=setTimeout(function(){A.setToCurrentItem(f);I(a.data,!1)},b.getHoveringDelayTimer())):
"mouseleave"===a.type?Q&&clearTimeout(Q):"click"===a.type&&(A.setToCurrentItem(f),I(a.data,!1)));"swatchHover"===a.type?("ingress"!==f.type&&I(a.data,!1),f.color===A.getCurrentItem().color?R(A.getCurrentItem(),null,f.color,!0):a.captured||-1===O(f)||(a.captured=!0)):"image"===f.type&&(f.interaction=a.type,f.isUserGenerated=!0,"mouseenter"===a.type?(n.postCountMetric("dpcc_imageThumbHovered_"+(f.thumbnailIndex+1)+"_"+D),K&&clearTimeout(K),K=setTimeout(function(){R(f,null,f.color,!0);h.usePeekHover||
b.selectGivenThumbnail(a.$declarativeParent,S)},b.getHoveringDelayTimer())):"mouseleave"===a.type?K&&clearTimeout(K):"click"===a.type&&(R(f,null,f.color,!0),b.selectGivenThumbnail(a.$declarativeParent,S),n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(f.thumbnailIndex+1)+"_"+D)))}:c.update=function(a){var f=a.data;A.setCurrentEvent(a);"ingress"!==f.type&&I(a.data,!1);"swatchHover"===a.type?f.color===A.getCurrentItem().color?R(A.getCurrentItem(),null,
f.color,!0):a.captured||-1===O(f)||(a.captured=!0):"image"===f.type&&(f.interaction=a.type,f.isUserGenerated=!0,"mouseenter"===a.type&&n.postCountMetric("dpcc_imageThumbHovered_"+(f.thumbnailIndex+1)+"_"+D),R(f,null,f.color,!0),h.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,S),"click"===a.type&&(n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(f.thumbnailIndex+1)+"_"+D))))};h.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");
z.register("imageHover",E);z.register("resize",m)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(e,a,b,g,n,d,q){function k(d,g,h,e,k){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var q=E.getCurrentItem();if(!e||"chromeless-video"!==q.type||!m.autoplayVideo){e=0;"image"===q.type&&(e=Math.max(b.getIndexForVariant(q.color,q.variant,m),0));var n=0;b.isDefined(m.heroImage[q.color])&&
(n=m.heroImage[q.color].length);k=e-(g>=m.maxAlts?m.maxAlts-k-n:0);g=0<=k?g+k:e+n;g>=h&&(e=0,g=n);h=b.getImageHash(q.color,e,m);-1!==h&&(c.dispatch("updateModel",{data:{index:e,thumbnailIndex:g,variant:h.variant,type:"image",shoppableScene:h.shoppableScene}}),h=d.find(".item").get(g),b.selectGivenThumbnail(a(h),d))}}}function r(a){if(!m.useChildVideos)return b.lazyLoadingRequired(E.getCurrentItem(),E,m)?void 0:m.videos;if(m.colorToVideo[a])return m.colorToVideo[a];var c=m.colorToAsin[a];if(c&&c.asin){var d=
{};d.params={asin:c.asin,productGroupID:m.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:m.useChromelessVideoPlayer,isUDP:m.isUDP};m.isDPXFeatureEnabled||(d.success=function(a){videosOnTwisterRefresh(a)},g.load(VIDEO_AJAX_ENDPOINT,d));return m.colorToVideo&&m.colorToVideo[a]}}function p(c,g,e){if((2===m.unrolledImageBlockTreatment||3===m.unrolledImageBlockTreatment)&&e)return c;var n=r(g),I=b.isDefined(n)&&0<n.length&&m.alwaysIncludeVideo?1:0;g=m.colorImages&&m.colorImages[g];var n=
c,O=0;b.isDefined(g)&&(a.each(g,function(d,l){if(O>=m.maxAlts-I&&c<m.maxAlts+m.additionalNumberOfImageAlts){if(2===m.unrolledImageBlockTreatment||3===m.unrolledImageBlockTreatment){var f=a(".thumbItemUnrolled");f[c]?f[c].querySelector("img").src=l.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(c+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
(c+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(c+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+l.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else b.createThumbnail({type:"image",index:d,thumbnailIndex:c,variant:l.variant,shoppableScene:l.shoppableScene},l.thumb,h,"imageThumbnail");c++}O++}),d.isEnabled&&q.logAltImgRequestPlacedOnThumbnails(a,d,E),k(h,n,c,e,I));return c}function N(a,
c){m.useIV&&b.isDefined(c.hiRes)&&a.css("cursor","pointer")}function M(c,d){if("image"===c.type){var g=a("#image-canvas-caption #canvasCaption"),h,e=m.staticStrings,k=m.colorImages,q=c.color,l=c.index;b.isShoppableScenesEnabled()&&c.shoppableScene?h=e.clickSceneTagsToShopProducts:d&&m.useIV?h=e.clickToExpand:k[q]&&k[q][l].hiRes&&m.useHoverZoom?(h=m.useHoverZoomIpad?e.touchToZoom:m.useClickZoom?e.clickToZoom:e.rollOverToZoom,m.hoverZoomIndicator&&(h="\x3cimg src\x3d'"+m.staticImages.hoverZoomIcon+
"'/\x3e\x26nbsp;"+h)):m.useIV&&(h=e.clickToExpand);g.html(h)}}function G(c,d){var g="a-dynamic-image";if(!m.acEnabled){var h;a.each(c.main,function(a,f){b.isDefined(h)||(h=parseFloat(f[1]/f[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=h}var e=b.getMaxDimensionsOfMainImage(c.main,z,m),k=e[0],q=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,"max-width":q};e.addClass(g).css(k).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",
c.main);return e}function t(a,b,d){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",g,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+a);d=A.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");d.addClass("celwidget").attr("cel_widget_id",g);d.children("span").css("display","inline-block");c.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,
imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in u&&(new MutationObserver(function(c,d){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){e.trigger("shoppable-scene-image-loaded",
{index:a,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return d}function C(a,c,d){d=G(a,d);a=b.isShoppableScenesEnabled()&&a.shoppableScene?t(c,a,d):A.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(d);A.find(".list").append(a);e.loadImageManually(d);return a}function P(a){var c=z.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");m.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses)}function U(d,g,h,k){if((2===m.unrolledImageBlockTreatment||3===m.unrolledImageBlockTreatment)&&!k&&"unavailable"!==d.type){d=m.colorImages&&
m.colorImages[h];g=a(".unrolledImg");h=r(h);var q=b.isDefined(h)&&0<h.length&&m.alwaysIncludeVideo?1:0;g.length>m.maxAlts&&g.each(function(c){c>=m.maxAlts&&a(this).remove()});b.isDefined(d)&&a.each(d,function(c,b){c<m.maxAlts-q+m.additionalNumberOfImageAlts&&c>=m.maxAlts-q&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+q+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(c+q)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(c+q)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){h=b.getImageHash(d.color,d.index,m);if(-1===h)return g={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},b.lazyLoadingRequired(d,E,m)||(c.dispatch("updateModel",g),b.showUnavailable(d.color)),-1;k=A.find(".item.itemNo"+d.thumbnailIndex);b.isjQueryObjDefined(k)||(k=C(h,d.thumbnailIndex,g));P(k);c.dispatch("loadMagnifier");M(d);N(k,h);e.trigger("dp:image-block:update",h)}}function T(a){var d=E.getCurrentItem().color;m.colorImages[d]||(m.colorImages[d]=a);a={type:"updatedData",data:E.getCurrentItem()};c.dispatch("updateView",a);(d=m.colorToAsin[d])&&d.asin&&x.register(b.rankedImagesReadyEvent(d.asin))}
function R(){var c=A.find(".item .imgTagWrapper"),d=b.getContainerHeight(z,m.holderRatio,m.holderMaxHeight);0<d&&(z.height(d),c.height(d));A.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&e.loadDynamicImage(this);var d=c.data("a-dynamic-image"),d=b.getMaxDimensionsOfMainImage(d,z,m);c.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function O(a){M(E.getCurrentItem(),"mouseenter"===a.type)}var I,m,E,c,h,A,z,K;return function(d,g,k,q){I=this;m=d;E=g;
c=q;e.on("triggerImageAjax",T);m.colorImages[m.landingAsinColor]=m.colorImages[m.defaultColor];I.render=function(d,g,e,l,f,B,k){A=e;h=l;z=f;K=p(g,d,B);B||(g=E.getCurrentItem(),b.lazyLoadingRequired(g,E,m)&&c.dispatch("updateModel",{data:{type:"lazy-loaded"}}));g=E.getCurrentItem();e=!B;b.lazyLoadingRequired(g,E,m)||(a("#imageBlock").css("opacity","1"),A.css("opacity","1"),b.spinner(A,!1),A.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),b.hideUnavailable(),e&&
A.find(".list .item").remove());U(E.getCurrentItem(),k,d,B);return K};I.update=function(a){};m.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");c.register("imageHover",O);c.register("resize",R)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(e,a,b,g,n,d){function q(a){U?a.css("cursor","url('"+M.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor",
"-moz-zoom-in"),a.css("cursor","zoom-in"))}function k(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(d))for(var d=d[1].split("_"),g=0;g<d.length;g++){var e=d[g].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(e)&&(a[e[1]]=parseInt(e[2],10))}return a}function r(r,p){function O(){var a;p.useClickZoom?(a=p.offsetInClickZoom,a=[Math.min(1,Math.max(0,G[0]-(D[0]+a))/(D[2]-2*a)),Math.min(1,Math.max(0,G[1]-(D[1]+a))/(D[3]-2*a))]):a=v&&v.updatePosition();if(a&&t&&t.detailSize){var c=
[t.detailSize[0]-t.rect.width,t.detailSize[1]-t.rect.height];e.capabilities.rtl?t.detailImage.get(0).style.right=-(a[0]*c[0])+"px":t.detailImage.get(0).style.left=-(a[0]*c[0])+"px";t.detailImage.get(0).style.top=-(a[1]*c[1])+"px"}}function I(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function m(c){var f=W?c.originalEvent.touches[0]||c.originalEvent.changedTouches[0]:"";G=W?[f.pageX,f.pageY]:[c.pageX,c.pageY];if(e.capabilities.rtl){var b=a(u).width();G=W?[b-f.pageX,f.pageY]:[b-
c.pageX,c.pageY]}}function E(a){W&&a.preventDefault();m(a);p.useClickZoom?a=[D[0],D[1],D[0]+D[2],D[1]+D[3]]:(a=v?v.offset:r.offsetParent().offset(),a=M.acEnabled?[a.left,a.top,N.width()+a.left,N.height()+a.top]:[H[0]+a.left,H[1]+a.top,H[0]+H[2]+a.left,H[1]+H[3]+a.top]);G[0]<a[0]||G[1]<a[1]||G[0]>=a[2]||G[1]>=a[3]||M.acEnabled&&!I(r)?(p.fadeMagnifier?Z||(Z=!0,x=setTimeout(function(){c(!0)},500)):p.useClickZoom||c(),F&&(F=!1,clearTimeout(fa))):(F||(F=!0,fa=setTimeout(function(){g.postCountMetric("dppc_hoverZoomOpened");
n.isEnabled&&d.logHoverZoomRequestServed(n)},1E3)),p.fadeMagnifier&&Z&&(Z=!1,clearTimeout(x)),O())}function c(c){c&&z.suppressMagnifier(!0);if(l&&(t&&t.hide(),v&&(v.destroy(),v=null),l=!1,W?(r.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),A(),c))r.one("click.magnifier touchstart.magnifier",function(a){h(a,!0)})}function h(b,d){d&&z.suppressMagnifier(!1);if(!l&&
!f&&(0===Y&&(g.postCountMetric("dppc_hoverTime",new Date-(u.ue&&u.ue.t0||0)),Y=1),aa[B]||(g.postCountMetric("dppc_hoverMain"),aa[B]=1),H=[r.position().left,r.position().top,r.width(),r.height()],B&&(m(b),t?t.refit().show():t=new ha,p.useClickZoom||(v=v||new w),D=t.getWindowSize(),O()),l=!0,W?(r.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",E).bind("touchend.magnifier",c),a(document).trigger("engaged.magnifier")):(M.acEnabled?N.unbind("mousemove.magnifier"):r.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",E)),d)){var h=a("#zoomWindow");if(0<h.length)h.one("click.magnifier touchend.magnifier",function(a){c(!0)})}}function A(){p.useHoverZoom&&(W?r.bind("touchstart.magnifier touchmove.magnifier",h):M.acEnabled?I(r)&&N.bind("mousemove.magnifier",h):r.bind("mousemove.magnifier",h))}var z=this,N=r.offsetParent(),C={detailImageUrl:r.attr("data-old-hires"),location:"over",locationElement:r,prelaod:"ready",zIndex:50,offsetInClickZoom:50};p=
a.extend(C,p);p.adjustment=[10,0,-10,0];var t=null,v=null,G=null,H=null,D=null,P={"null":1,"":1,undefined:1},l=!1,f=!1,B=p.detailImageUrl,W=p.useHoverZoomIpad||0,Y=0,aa={},w=function(){function c(a){var f=Math.round(Math.min(r.width(),t.rect.width/a));a=Math.round(Math.min(r.height(),t.rect.height/a));l.css({width:f,height:a});b=[f,a]}var f=this,b=[0,0],d=(t.detailSize&&t.detailSize[0]||5E8)/H[2],g=(t.detailSize&&t.detailSize[1]||5E8)/H[3],d=g>d?g:d;a("#magnifierLens").remove();var l=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
p.generalImageUrls.zoomLensBackground&&l.css({backgroundImage:"url("+p.generalImageUrls.zoomLensBackground+")"});M.showMagnifierOnHover?q(l):l.css("cursor","pointer");f.updatePosition=function(){var a=[H[2]-b[0],H[3]-b[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(G[0]-b[0]/2-H[0]-f.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(G[1]-b[1]/2-H[1]-f.offset.top)/a[1])),g=H[0]+Math.round(c*a[0]),a=H[1]+Math.round(d*a[1]);l.get(0).style.left=g+"px";l.get(0).style.top=a+"px";return[c,d]};f.destroy=function(){l.remove()};
f.offset=r.offsetParent().offset();c(d);f.updatePosition();l.appendTo(r.parent());t.detailImage[0].complete||t.detailImage.load(function(){var a=t.detailImage.width()/H[2];c(a);f.updatePosition()})};w.preload=function(){z.preload(p.generalImageUrls.lensBackgroundUrl)};var ha=function(){function c(){var f={};if("over"===p.location){var f=p.useClickZoom,l={},e=a("#leftCol"),B=a("#centerCol"),k=a("#rightCol"),m=a("#hover-zoom-end"),w=a("#actionPanelContainer"),q=b.isjQueryObjDefined(e)?e.outerHeight():
B.outerHeight();l.top=b.isjQueryObjDefined(e)?e.offset().top:B.offset().top;l.bottom=q+l.top;l.right=b.isjQueryObjDefined(k)?k.offset().left:w.offset().left;l.left=f?0:e.offset().left+e.outerWidth();b.isjQueryObjDefined(m)&&m.offset().top>l.bottom&&(l.bottom=m.offset().top);f=l}else"right"===p.location&&(f=r.offset(),f={left:f.left+r.outerWidth(),top:f.top,right:f.left+r.outerWidth()+400,bottom:f.top+400});p.minHeightElement&&(f.bottom=Math.max(f.bottom,f.top+a(p.minHeightElement).outerHeight()));
f.bottom=Math.min(f.bottom,a(u).scrollTop()+a(u).height());f.left+=g[0];f.top+=g[1];f.right+=g[2];f.bottom+=g[3];f.width=f.right-f.left;f.height=f.bottom-f.top;p.enhancedHoverOverlay&&b.isDefined(u.pageXOffset)&&(l=a(u).width(),f.width=l-f.left+u.pageXOffset-18,f.height-=14);h.css({left:f.left,top:f.top,width:f.width,height:f.height});d.rect=f;return d}function f(a){var c=new Image;d.detailSize=[0,0];c.onload=function(){d.detailSize=[c.width,c.height];O()};c.src=a.attr("src");if(0<c.width&&0<c.height)d.detailSize=
[c.width,c.height];else if(p.detailImageSize)d.detailSize=p.detailImageSize;else{a=k(c.src);var b=H[2]/H[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?d.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(d.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var d=this,g=p.adjustment;a("#zoomWindow").remove();var l={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:p.zIndex};p.enhancedHoverOverlay&&(l.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
l.border="1px solid #949494",l.borderColor="rgb(148,148,148)");var h=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(l);p.fadeMagnifier&&h.fadeIn(200);p.useClickZoom&&(U?h.css("cursor",'url("'+p.zoomOutIcon+'"), auto'):(h.css("cursor","-webkit-zoom-out"),h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out")));d.updateImage=function(c){c=a("\x3cimg id\x3d'detailImg' src\x3d'"+c+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();h.append(c);a(document).trigger("updated.magnifier");
d.detailImage=c;f(d.detailImage)};d.refit=function(){c();f(d.detailImage);return d};p.fadeMagnifier?(d.show=function(){h.fadeIn(200);return d},d.hide=function(){h.fadeOut(200);return d}):(d.show=function(){h.show();return d},d.hide=function(){h.hide();return d});d.destroy=function(){h.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,d.rect.height]};d.updateImage(B);c();h.appendTo(document.body)},Z=!1,x,F=!1,fa;z.preload=function(f){f=a.makeArray(f);for(var c=
f.length,b=0;b<c;b++)f[b]instanceof Array?z.preload(f[b]):"string"===typeof f[b]&&f[b]&&!P[f[b]]&&(P[f[b]]=new Image,P[f[b]].src=f[b])};z.changeImage=function(f,b){l&&c();B=b;r.attr("src",f);z.preload(f);H=[r.position().left,r.position().top,r.width(),r.height()];b&&("immediately"===p.preload?z.preload(b,!0):a(u).ready(function(){z.preload(b)}),t?t.updateImage(b):r.attr("data-old-hires",b))};z.destroy=function(){M.acEnabled?N.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
r.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");v&&v.destroy();v=null;t&&t.destroy();t=null};z.detailImage=function(){return t.detailImage};z.suppressMagnifier=function(a){f=a};z.isEngaged=function(){return l};z.engageMagnifier=h;z.disengageMagnifier=c;r[0].complete?A():r.one("load",A);z.preload(r.attr("src"));u.performance&&performance.now&&u.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(p.preload){var oa=
p.detailImageUrl,C=function(){z.preload(oa,!0);p.useClickZoom||w.preload()},ba=p.preload;ba.constructor!==Array&&(ba=[ba]);for(var y=0;y<ba.length;y++)if("immediately"===ba[y])C();else if(a(u)[ba[y]])a(u)[ba[y]](C);else a(u).bind(ba[y],C)}return z}function p(){if(M.useHoverZoom){var g={adjustment:[0,0,1,1],generalImageUrls:M.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:M.useHoverZoomIpad,useHoverZoom:M.useHoverZoom,useClickZoom:M.useClickZoom,
fadeMagnifier:M.fadeMagnifier,zoomOutIcon:M.staticImages.zoomOutCur,enhancedHoverOverlay:M.enhancedHoverOverlay||M.atfEnhancedHoverOverlay};C&&(C.destroy(),C=ea);var e=P.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(e)?M.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){C=new r(e,g);C.engageMagnifier(a,!0)}),U?e.css("cursor",'url("'+M.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),
e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):C=new r(e,g):n.isEnabled&&d.logHoverZoomApplicability(a,n)}}var N,M,G,t,C,P,U=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,g){N=this;M=a;G=b;n.refToModel=G;t=g;N.render=function(a,b,c,d,g,e){P=c;C&&(C.destroy(),C=ea)};N.update=function(a){};t.register("loadMagnifier",p);t.register("resize",p)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(e,a,b,g){function n(a,
d,e){a=(a=e?e:b.getColorFromState(d.getState().hovered_variations,k))&&""!==a?a:k.defaultColor;p.dispatch("updateView",{type:"swatchHover",data:{color:a}});g.postCountMetric("swatchHover")}function d(a,d,e,q){a=(a=q?q:b.getColorFromState(d.getState().selected_variations,k))&&""!==a?a:k.defaultColor;a===r.getCurrentItem().color?"function"===typeof e&&e():(p.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof u.markFeatureRender&&u.markFeatureRender("imageblock",a);e()}}),g.postCountMetric("swatchClick"))}var q,k,r,p;return function(a,b,g,t){q=this;k=a;r=b;p=t;e.on("image-block-twister-swatch-hover",n);e.on("image-block-twister-swatch-click",d);q.render=function(a,b,d,g,e){};q.update=function(a){}}});"use strict";x.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(e,a,b,g,n,d,q){function k(f,b,d,l){!c.autoplayVideo||
ia||c.useChromelessVideoPlayer?!g.isjQueryObjDefined(f.find(".a-button-selected"))&&(d=h.getCurrentItem(),!l||c.prioritizeVideos||"chromeless-video"===d.type&&c.autoplayVideo)&&(l=g.getVideoHash(d.color,0,c),-1===l||d.thumbnailIndex>=c.maxAlts-1||(b+=0,A.dispatch("updateModel",{data:{index:0,thumbnailIndex:b,variant:l.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),b=f.find(".item").get(b),g.selectGivenThumbnail(a(b),f))):(g.selectGivenThumbnail(f.find("img:last"),
f),g.fadeToThumbnail(f.find("img").length-1,S,f))}function r(a){var f=h.getCurrentItem().color;if(c.useChildVideos&&!c.colorToVideo[f]){var b=function(){if(a){c.colorToVideo[f]=a;var b={type:"updatedData",data:h.getCurrentItem()};A.dispatch("updateView",b)}};c.lazyLoadExperienceDisabled?b():x.when(g.rankedImagesReadyEvent(c.colorToAsin[f].asin)).execute(function(){b()})}}function p(a){if(!c.useChildVideos)return g.lazyLoadingRequired(h.getCurrentItem(),h,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];
var f=c.colorToAsin[a];if(f&&f.asin){var b={};b.params={asin:f.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(b.success=function(a){r(a)},n.load("/gp/product/features/apparel-main-image/videos.html",b));return c.colorToVideo&&c.colorToVideo[a]}}function N(a){L&&null===a&&2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment&&(L.hide(),K.parent().css("z-index",-1),Q.hide(),K.siblings(".ive-creator-profile").addClass("aok-hidden"))}
function M(){A.dispatch("selectThumbnail",g.useTabbedImmersiveView(c)?1:0)}function G(f,c,l,e){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:f[0],streamingUrls:c.url,swfUrl:l.swfUrl,foresterMetadataParams:l.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=g.isjQueryObjDefined(f.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){f.parent().css("z-index",
8)},videounsupported:function(){M();d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){M();d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){L.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(c,b,d){c=d.durationSeconds-d.playheadTimeSeconds;f.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*c,.1,function(){f.parent().css({"background-color":"transparent","z-index":-1});M();a(this).show().css("opacity",
1)})}}]})}function t(){if(2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment)if(g.useTabbedImmersiveView(c)){if(1<g.getVideosCount(h.getCurrentItem().color,c)){if(g.isDefined(v)){Q.show();return}v=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(c.staticStrings.watchMoreVideos);Q.find("#videoCaption").append(v);e.declarative.create(v,"videoIngressClick",D)}g.playVideoInImmersiveView(c,h.getCurrentItem().color)&&(e.declarative.create(K,"videoIngressClick",D),
K.attr&&K.attr("data-ux-click",""),K.children().css("z-index","-1"),K.css("display","inline-block"))}else Q.find("#videoCaption").text(c.staticStrings.playVideo),Q.show()}function C(b,d){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===d){var e=g.getVideoHash(b.color,b.index,c);if(-1===e)return-1;if("chromeful-video"===b.type)a:{var h=b.thumbnailIndex+1,k=S.width()/S.height(),m=parseInt(e.videoWidth,10),w=parseInt(e.videoHeight,10);g.updateAspectRatio(k,m,w,K);if(L&&
"unrolled-video-add"!==d)L.show(),g.loadMediaIntoAiry(L,e,H,c.tabletWeb),t(),R(L),k=a("#video-outer-container"),h=k.find(".ive-creator-profile"),w=k.find("#video-canvas-caption"),e&&e.creatorProfile&&"IB_G2"===e.groupType&&h?(1===h.length&&(m=h.removeClass("aok-hidden").height(),(m=(w=1===w.length?w.height():0)?w+m:m)&&k.css({"max-height":"calc(100% - "+m+"px)"})),k=h.find(".a-profile-content .a-profile-name"),0<k.length&&k.html(e.title),k=h.find(".a-profile-content .a-profile-descriptor"),0<k.length&&
k.html(e.creatorProfile.publicName),k=h.find(".a-profile-avatar img"),0<k.length&&k.attr("src",e.creatorProfile.url),h.attr("href",e.creatorProfile.profileLink+"?ref\x3dive_mb_profile")):h.addClass("aok-hidden");else{if(c.tabletWeb)L=l;else if(L=g.createAiryInstanceForChromefulNotUseTabbedImmersiveView(K,e,H,null,c.autoplayVideo,S,Q,z,h,c.useTabbedImmersiveView,B,f,W,d),"unrolled-video-add"===d){L.show();g.loadMediaIntoAiry(L,e,H,c.tabletWeb);break a}t();R(L)}}else if(L&&"unrolled-video-add"!==d)L.show(),
g.loadMediaIntoAiry(L,e,H,c.tabletWeb),L.play(),Q.show();else if(L=G(K,e,H))"unrolled-video-add"===d&&(L.show(),g.loadMediaIntoAiry(L,e,H,c.tabletWeb)),L.play()}}function P(b,l,h){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&h)return b;var m=p(l);l=b;var w=a(".unrolledImg"),q=g.isDefined(m)&&0<m.length&&c.alwaysIncludeVideo?1:0;g.isDefined(m)&&0<m.length&&!c.alwaysIncludeVideo&&b===c.maxAlts&&d.postCountMetric("IBVideoDrop");w.length>c.maxAlts&&w.each(function(f){f>=
c.maxAlts&&a(this).remove()});q&&b===c.maxAlts&&(2===c.unrolledImageBlockTreatment||3==c.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):z.find(".item:last").remove(),b--);g.isDefined(m)&&(a.each(m,function(l,e){if(b<c.maxAlts){if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+l+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+b+'" class\x3d"videoIndex'+l+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
2===c.dp60VideoPosition&&U(a(".regularAltImageViewLayout"),c.dp60VideoPosition)}else{var h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",k={type:h,index:l,thumbnailIndex:b,variant:e.variant};D={type:"video-ingress",index:l,thumbnailIndex:b,variant:e.variant};g.useTabbedImmersiveView(c)&&("chromeful-video"===h&&(F+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(F+=" a-align-top"));g.isImageBlockGridViewDisplayEnabled()&&
(F+=" videoImageBlockGridView");g.createThumbnail(k,e.thumb,z,F);2===c.dp60VideoPosition&&U(z,c.dp60VideoPosition);if(g.useTabbedImmersiveView(c)){T(z.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL);var k=1<m.length?"multiple-videos":"one-video",w=!0===c.noVideoCount?c.staticStrings.multipleVideos:1<m.length?m.length+" "+c.staticStrings.multipleVideos:c.staticStrings.singleVideo;w&&z.find(".videoBlockIngress").append(z.find("#videoCount_template").clone().text(w).attr("id","videoCount")).addClass(k)}k=
d.buildNexusMetric("ib.thumbnailImpression",b+1,e.mediaObjectId,e.groupType,B,f,W,Y);d.emitNexusMetric(k);k=d.buildNexusMetric("ib.thumbnailRender",b+1,e.mediaObjectId,e.groupType,B,f,W,Y);d.emitNexusMetric(k);Z||(Z=!0,d.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}b++}if(g.useTabbedImmersiveView(c))return!1}),k(z,l,b,h),c.imageBlockRenderingStartTime&&d.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",e.now()-c.imageBlockRenderingStartTime));
return b}function U(f,b){if(0!==b)if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var d=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=f.children(".thumbTypeimage"),d=f.children(".thumbType"+d);e&&d&&e[b-1]&&a(e[b-1]).before(d[0]);d=a(".unrolledScrollBox .list-unrolled");e=d.children(".unrolledImg.imgMedia");d=d.children(".unrolledImg.videoMedia");e&&d&&e[b-1]&&a(e[b-1]).before(d[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(f){for(var b=
null,c=0;c<this.classList.length;c++)this.classList[c].includes("itemNo")&&(b=c);null!==b&&a(this).removeClass(this.classList[b]).addClass("itemNo"+f);this.querySelectorAll("div")[1].id="unrolledImgNo"+f})}else e=f.children(".imageThumbnail"),d=f.children(".videoBlockIngress"),e&&d&&e[b-1]&&a(e[b-1]).before(d[0])}function T(a,f){var b=a.attr("src");if(b&&f){a.attr("src",f);var c=new Image;c.onload=function(f){a.attr("src",b)};c.src=b}}function R(a){c.autoplayVideo&&a&&!ia&&(g.toggleVideoCaption(Q),
a.setVolume(0),a.show(),a.play(),ia=!0)}function O(a){L&&L.pause();a.data=D;a.clickTimeStamp=a.$event.timeStamp;var b="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";A.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=d.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,c.videos[0].mediaObjectId,c.videos[0].groupType,B,f,W,Y);d.emitNexusMetric(a);d.postCountMetric(b)}function I(a){l=a.player;l.hide=function(){l.pause();e.$("#main-video-container").find(".vse-player-container").hide()};
l.show=function(){e.$("#main-video-container").find(".vse-player-container").show();l.play()};l.getMediaSourceInfo=function(){return g.getMediaSourceInfo()}}function m(b,d,l,k,m,w){N(w);K=null!==w?a("#unrolledImgNo"+w.thumbnailIndex):k.find("#main-video-container");Q=null!==w?"":K.parent().find("#video-canvas-caption");S=null!==w?a(".unrolledScrollBox"):a("#main-image-container");null===w&&g.isImageBlockGridViewDisplayEnabled()&&(K.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));
B=u.location.href;b=h.getCurrentItem().color;!0===m?f=c.mediaAsin:(f=c.colorToAsin[b]&&c.colorToAsin[b].asin,f=g.isDefined(f)?f:c.mediaAsin);c.useChromelessVideoPlayer||K.addClass("chromeful-container");null!==w?C(w,"unrolled-video-add"):C(h.getCurrentItem(),"");g.useTabbedImmersiveView(c)&&e.declarative("videoIngressClick",["click"],O);b=h.getCurrentItem().color;m=g.getVideoHash(b,0,c);-1!==m&&c.tabletWeb&&(m=g.getNilgiriServiceAjaxRequest(c,b,m),q.get(e,"#main-video-container",m,function(){e.$("#main-video-container").find(".vse-player-container").hide()},
function(){e.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var E,c,h,A,z,K,Q,S,v,L,H,D,J,l,f,B,W,Y,aa,w,ha,Z=!1,ia=!1,F="videoThumbnail";return function(b,l,k,q){E=this;c=b;h=l;A=q;H=c.airyConfig;W=c.contentWeblab&&c.contentWeblab+":"+c.contentWeblabTreatment;c.colorToVideo={};c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;c.tabletWeb?(aa="tablet",Y="applicationType.ImageBlock.vse_ib_tablet_web"):e.capabilities.tablet?(aa="tablet",e.capabilities.isAmazonApp&&
(Y="applicationType.ImageBlock.vse_ib_tablet_app")):(aa="desktop",Y="desktop_web.ImageBlock.vse_ib_iv");E.render=function(f,b,d,e,l,g){var h=[];if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){z=a("ul.regularAltImageViewLayout");J=P(b,f,g);h=[];b=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var k=0;k<b.length;k++){var w=b[k].classList.contains("thumbTypechromeful-video")?
"chromeful-video":"chromeless-video",B=Number(b[k].classList[2].slice(10)),q=a(".thumbItemUnrolled").index(b[k]);h.push({color:f,thumbnailIndex:q,type:w,varient:"MAIN",index:B})}for(k=0;k<h.length;k++)m(f,d,e,l,g,h[k])}else z=e,J=P(b,f,g),m(f,d,e,l,g,null);return J};g.isImageBlockGridViewHoverDelayEnabled()?E.update=function(a){var b=a.data;"ingress"===b.type||"swatchHover"===a.type||g.lazyLoadingRequired(b,h,c)||(h.setToPreviousItem(),"mouseenter"===a.type?(ha&&clearTimeout(ha),ha=setTimeout(function(){h.setToCurrentItem(b);
N(null)},g.getHoveringDelayTimer())):"mouseleave"===a.type?ha&&clearTimeout(ha):"click"===a.type&&(h.setToCurrentItem(b),N(null)));if("swatchHover"===a.type)"ingress"===b.type||g.lazyLoadingRequired(b,h,c)||N(null),b.color===h.getCurrentItem().color?C(h.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(b,h,c)&&!g.lazyLoadOnHoverEnabled(c)&&C(h.getCurrentItem(),"");else if("chromeful-video"===b.type||"chromeless-video"===b.type){var l=g.getVideoHash(b.color,b.index,c);"mouseenter"===a.type?(d.postCountMetric("dpcc_videoThumbHovered_"+
(b.thumbnailIndex+1)+"_"+J),"chromeless-video"===b.type&&(l=d.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,l.mediaObjectId,l.groupType,B,f,W,Y),d.emitNexusMetric(l)),w&&clearTimeout(w),w=setTimeout(function(){C(b,"");!c.usePeekHover&&e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&g.selectGivenThumbnail(a.$declarativeParent,z)},g.getHoveringDelayTimer())):"mouseleave"===a.type?w&&clearTimeout(w):"click"===a.type&&(C(b,""),e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&
(g.selectGivenThumbnail(a.$declarativeParent,z),l=d.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,l.mediaObjectId,l.groupType,B,f,W,Y),(!g.useTabbedImmersiveView(c)&&"chromeless-video"===b.type||"tablet"==aa)&&d.emitNexusMetric(l),g.useTabbedImmersiveView(c)&&(d.emitNexusMetric(l),d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+J),D.action="videoIngressClick",D.clickTimeStamp=a.$event.timeStamp,D.$event=a.$event,D.$currentTarget=a.$currentTarget,A.dispatch("videoIngressClick",
D),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:E.update=function(a){var b=a.data;"ingress"===b.type||g.lazyLoadingRequired(b,h,c)||N(null);if("swatchHover"===a.type)b.color===h.getCurrentItem().color?C(h.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(b,h,c)&&!g.lazyLoadOnHoverEnabled(c)&&C(h.getCurrentItem(),"");else if("chromeful-video"===b.type||"chromeless-video"===b.type){var l=g.getVideoHash(b.color,b.index,c);if("mouseenter"===a.type&&(d.postCountMetric("dpcc_videoThumbHovered_"+
(b.thumbnailIndex+1)+"_"+J),"chromeless-video"===b.type)){var k=d.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,l.mediaObjectId,l.groupType,B,f,W,Y);d.emitNexusMetric(k)}C(b,"");c.usePeekHover&&"click"!==a.type||!e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(g.selectGivenThumbnail(a.$declarativeParent,z),"click"===a.type&&(l=d.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,l.mediaObjectId,l.groupType,B,f,W,Y),(!g.useTabbedImmersiveView(c)&&"chromeless-video"===
b.type||"tablet"==aa)&&d.emitNexusMetric(l),g.useTabbedImmersiveView(c)&&(d.emitNexusMetric(l),d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+J),D.action="videoIngressClick",D.clickTimeStamp=a.$event.timeStamp,D.$event=a.$event,D.$currentTarget=a.$currentTarget,A.dispatch("videoIngressClick",D),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(c.isDPXFeatureEnabled)e.on("triggerVideoAjax",r);e.on("vsePlayer-imageblock_tablet",I)}});"use strict";x.when("A",
"jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,a,b,g,n,d,q,k){function r(a){return a.hiRes||a.large||a.main[a.main.length-1]}function p(){y.find("#ivTitle").click(function(){ba.hide()})}function N(){X=Kb?{type:"360-spin"}:fa.getCurrentItem()}function M(){var a=y.find("#ivStage"),b=ba.$container.find(".a-popover-wrapper"),f=b.find(".a-popover-inner"),b=b.height()-
k.getDimension(f,"padding-top")-k.getDimension(f,"padding-bottom");y.css("height",b);var f=y.find("#ivTitle").outerHeight(!0),c=y.find("#ivVariationSelection").outerHeight(!0),d=y.find("#ivMediaSelection").outerHeight(!0),l=y.find("#ivThumbs"),e=k.getDimension(l,"margin-top")+k.getDimension(l,"margin-bottom");l.css("height",b-f-c-d-e);y.find("#ivLargeImage").css("height",b);a.css("width",y.width()-k.getDimension(y,"padding-left")-k.getDimension(y,"padding-right")-y.find("#ivThumbColumn").width()-
k.getDimension(a,"margin-left")-k.getDimension(a,"margin-right"))}function G(){y.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(y.find("#ivVideoList").hide(),y.find("#ivThumbs").show(),y.find(".ivThumbVideo").show(),"chromeful-video"===X.type&&y.find("#ivVideo_"+X.index).click()):"images"===b?(y.find("#ivVideoList").hide(),y.find("#ivThumbs").show(),y.find(".ivThumbVideo").hide(),"chromeful-video"===X.type&&(0===ja&&0===da?y.find("#iv360").click():0===ja?y.find("#ivHeroImage_0").click():
y.find("#ivImage_0").click())):"videos"===b&&(y.find("#ivVideoList").show(),y.find("#ivThumbs").hide(),"chromeful-video"!==X.type?y.find("#ivVideoList_0").click():y.find("#ivVideoList_"+X.index).click())})}function t(){var a=y.find("#ivStage").find("#ivLargeImage"),b=a.width(),f=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var d=c.width(),l=c.height();0<c.length&&(c[0].naturalWidth&&(d=c[0].naturalWidth),c[0].naturalHeight&&(l=c[0].naturalHeight));a.css("cursor","auto");var d=0===d?1:
d,l=0===l?1:l,e=Math.min(b/d,f/l),g=l*e,h=d*e;1>e?(qb?a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Ha=!0):Ha=!1;d=Math.min(h,d);l=Math.min(g-20,l);c.css({"margin-top":(f-l)/2,"margin-left":(b-d)/2,height:l,width:d});a.css("visibility","visible");Ia=!1}function C(a){var b=y.find("#ivLargeImage");b.css("visibility","hidden");b.empty();k.animateStageIn(b);b.append(a);t()}function P(){ka&&ka.pause();
y.find("#ivLarge360").css("display","none");y.find("#ivLargeVideo").css("display","none");y.find("#ivLargeImage").css("display","none");E()}function U(f){P();y.find("#ivLargeImage").css("display","block");var c;"hero-image"===f?b.isDefined(sa)&&(c=r(sa[X.index])):b.isDefined(ta)&&(c=r(ta[X.index]));if(b.isDefined(c)){y.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),l=y.find("#ivLargeImage");k.animateStageOut(l,function(){d.load(function(){C(d)});if(d[0].complete)C(d);
else{l.empty();var b=(l.height()-104)/2,f=(l.width()-80)/2;a("\x3cimg\x3e").attr("src",F.staticImages.spinner).css({position:"relative",top:b+"px",left:f+"px"}).appendTo(l)}})}}function T(){var a=parseInt(X.index,10)+1;a>=pa.length||y.find("#ivVideo_"+a).click()}function R(){var a;b.isDefined(pa)&&(a=pa[X.index]);if(b.isDefined(a)){P();var f=y.find("#ivLargeVideo").css("display","block");ka?(ka.isDetached()&&ka.attach(f[0]),b.loadMediaIntoAiry(ka,a,pb,F.tabletWeb),ka.show()):(ka=b.createAiryInstanceForChromeful(f,
a,pb,"ImmersiveView"),pb.enableContinuousPlay&&ka.bind("ended",T));ka.play({isAsync:!0})}}function O(){N();var a;a="hero-image"===X.type?y.find("#ivHeroImage_"+X.index):"image"===X.type?y.find("#ivImage_"+X.index):"chromeful-video"===X.type||"chromeless-video"===X.type?y.find("#ivVideo_"+X.index):"360-spin"===X.type?y.find("#iv360"):b.isDefined(sa)?y.find("#ivHeroImage_"+X.index):y.find("#ivImage_"+X.index);b.isjQueryObjDefined(a)||(a=y.find("#ivImage_0"));I(a)}function I(a){y.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(X.type="chromeful-video",X.index=a.attr("id").split("_")[1],R()):a.hasClass("ivHeroImage")?(X.type="hero-image",X.index=a.attr("id").split("_")[1],U(X.type)):a.hasClass("iv360Image")?(X.type="360-spin",X.index=0,m()):(X.type="image",X.index=a.attr("id").split("_")[1],U(X.type))}function m(){P();y.find("#ivLarge360").css("display","block");K();var a=y.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});k.animateStageIn(a)},
200);h();n.postCountMetric("dppc_click360");$a=Date.now()}function E(){0<$a&&(c("dppc_duration360",Date.now()-$a),$a=0)}function c(a,b){u.ue&&u.ue.count(a,b)}function h(){if(0<ua){var a=y.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function A(b,f){if(ua<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*Ba+"px",height:Za+"px"});d.hide();f.append(d);d.get(0).onload=function(){f.closest(document.documentElement).length&&(ua++,1===ua&&(h(),0<$a&&c("dppc_loadTime360",
Date.now()-$a)),0<ab&&c("dppc_perSpriteloadTime360",Date.now()-ab),y.find("#iv360Spinner").hide(),d.show(),rb=5*ca.imageLocations[Math.floor(sb/ca.imageLocations[0].length)][sb%ca.imageLocations[0].length],A(b,f))};d.attr("src",b[ua].replace(/(\._SP)\d+(,)\d+/,"$1"+bb+"$2"+cb));ab=Date.now()}}function z(a){if(b.isDefined(ca.spriteWidthSizes)&&0<ca.spriteWidthSizes.length){var f=ca.spriteWidthSizes,c=f.length,d=f[0],l=f[c-1];if(a<=d)return d;if(a>l)return l;for(d=0;d<c;d++)if(a>f[d]&&a<=f[d+1])return f[d+
1]}else return a}function K(){var b=y.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",F.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Fb=!0,Q())}function Q(){if(b.isDefined(ca.spriteURLs)&&b.isDefined(y)&&Fb&&!Gb){var f=y.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(ca.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",ca.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(F.staticStrings.dragToSpin).appendTo(c);
c.appendTo(f);var c=ca.imageWidth,d=ca.imageHeight,l=f.parent().width(),e=f.parent().height(),g=0,h=0;c/d>l/e?(bb=z(l),cb=Math.round(d/c*bb),Ba=Math.ceil(l),Za=Math.ceil(cb/bb*l),h=(e-Za)/2):(cb=z(e),bb=Math.round(c/d*cb),Za=Math.ceil(e),Ba=Math.ceil(bb/cb*e),g=(l-Ba)/2);f.css({"margin-left":g,"margin-top":h,width:Ba+"px",height:Za+"px",overflow:"hidden",position:"relative"});f.children("#image-360-sprites").css("width",6*Ba+"px");A(ca.spriteURLs,y.find("#image-360-sprites"),0);c=y.find("#ivLarge360");
c.bind("mousedown",H);c.bind("touchstart",S);c.bind("touchmove",v);c.bind("touchend",L);a(document).bind("mousemove",D);a(document).bind("mouseup",J);b.isDefined(F.staticImages.grab)&&f.css("cursor","url('"+F.staticImages.grab+"'), auto");Gb=!0}}function S(a){Ja=!0;Hb=a.originalEvent.targetTouches[0].clientX}function v(a){Ja&&(l(a.originalEvent.targetTouches[0].clientX-Hb),Hb=a.originalEvent.targetTouches[0].clientX)}function L(a){Ja&&(Ja=!1)}function H(a){Ka=!0;Ib=a.originalEvent.clientX;b.isDefined(F.staticImages.grabbing)&&
(a=y.find("#ivLarge360"),a.css("cursor","url('"+F.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+F.staticImages.grabbing+"'), auto"));return!1}function D(a){Ka&&(l(a.originalEvent.clientX-Ib),Ib=a.originalEvent.clientX)}function J(a){Ka&&(Ka=!1,b.isDefined(F.staticImages.grab)&&(a=y.find("#ivLarge360"),a.css("cursor","url('"+F.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function l(a){for(a=rb-=a/Ba*180;0>a;)a+=
360;for(;360<a;)a-=360;rb=a;var f;a=360;for(var c=0;c<ua;c++)for(var d=0;d<ca.imageLocations[c].length;d++){var l=Math.abs(rb-5*ca.imageLocations[c][d]);l<a&&(a=l,f=c*ca.imageLocations[0].length+d)}f!==sb&&(a=Math.floor(f/ca.imageLocations[0].length),a!==Math.floor(sb/ca.imageLocations[0].length)&&(b.isDefined(db)||(db=document.createElement("canvas").getContext("2d")),c=y.find("#image-360-sprites").children(),db.drawImage(c[a],0,0)),a=y.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));sb=f;a=f%ca.imageLocations[0].length*-1*Ba;f=-1*Math.floor(f/ca.imageLocations[0].length)*Za;c=y.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");c.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function f(){y.delegate(".ivThumb","click",function(){var b=a(this);I(b)});y.delegate(".ivThumbVideoListOuter","click",function(){y.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
X.type="chromeful-video";X.index=b.attr("id").split("_")[1];R()})}function B(){ka&&!ka.isDetached()&&(pb.volume=ka.getVolume(),ka.detach(),!document.all||u.atob||document.addEventListener||(ka=null));y.find("#ivLargeImage").empty();E()}function W(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function Y(b){var f=va.left-(b.pageX-Da[0])*la;e.capabilities.rtl&&(f=va.left-(a(u).width()-b.pageX-Da[0])*la);b=va.top-(b.pageY-Da[1])*la;f=W(f,La.left);b=W(b,La.top);y.find(".fullscreen").css({left:f,top:b})}
function aa(){y.delegate("#ivLargeImage","click",function(a){if(Ia)t();else if(Ha){y.find(".fullscreen").removeAttr("style");if(Ha){var b=y.find("#ivLargeImage"),f=b.find(".fullscreen");qb?b.css("cursor","url('"+F.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ia=!0;var c=y.find("#ivLargeImage");La.left=c.width()-f.width();La.top=c.height()-f.height();var c=b.height()/2,d=b.width()/2;Da=[b.offset().left+d,b.offset().top+
c];va.top=c-f.height()/2;va.left=d-f.width()/2;f.css({position:"relative",left:va.left,top:va.top});la=Math.max(f.height()/b.height(),f.width()/b.width())}Y(a)}});y.delegate("#ivLargeImage","mousemove",function(a){Ia&&Y(a)})}function w(f){if(b.isImmersiveViewEnabled(F,fa.getCurrentItem().color))if(Ma){var c=f.$event.originalEvent;c.acknowledge&&c.acknowledge(f.$currentTarget[0]);Kb=b.isDefined(f)&&"button-360-click"===f.action;d.isEnabled&&q.logImmersiveViewRequestServed(d);n.postCountMetric("dppc_immersiveViewOpened");
if(b.isDefined(ba))ba.show();else{f=a("#auiImmersiveViewDiv");var c=a(u).height()-150,l=a(u).width()-75;ba=Ma.create(f,{name:"immersiveView",activate:"onclick",width:l,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(eb){y=a("#ivMain");f=fa.getCurrentItem().color;ta=F.colorImages[f];sa=F.heroImage[f];pa=F.useChildVideos?F.colorToVideo[f]:F.videos;Jb=Z()&&F.spin360ColorEnabled[f];ca=Z()?F.spin360ColorData[f]:ea;N();Aa=da=Ga=ja=0;b.isDefined(sa)&&(da=sa.length);b.isDefined(ta)&&(ja=
ta.length);b.isDefined(pa)&&(Ga=pa.length);Jb&&(Aa=1);k.populateTitle(y.find("#ivTitle"),45,F);k.populateVariationSelection(y.find("#ivVariationSelection"));f=y.find("#ivMediaSelect");0===ja+Aa||0===Ga?(f.parent().hide(),y.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(F.staticStrings.allMedia+" ("+(da+ja+Aa+Ga)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(F.staticStrings.images+" ("+(da+ja+Aa)+")").appendTo(f),
a("\x3coption/\x3e").attr("value","videos").text(F.staticStrings.videos+" ("+Ga+")").appendTo(f),f.parent().show(),f.val("all"));f=y.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var c=da+ja+Ga+Aa,g=l=0;l<c;)for(var h=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),m=0;3>m&&l<c;m++,l++,g++)if(g<da){var w=sa[l].thumb,B=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(h);B.find(".ivThumbImage").css("background",
'url("'+k.getResizedThumbnailURL(w)+'") center no-repeat')}else if(g>=da&&g<ja+da)w=ta[l-da].thumb,B=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(l-da)).appendTo(h),B.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(w)+'") center no-repeat');else if(g>=da+ja&&g<ja+da+Aa)B=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(h),B.find(".ivThumbImage").css("background",'url("'+
(b.isDefined(F.staticImages.icon360)?k.getResizedThumbnailURL(F.staticImages.icon360,!0):"")+'") center no-repeat');else if(w=pa[l-ja-da-Aa],B=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(l-ja-da-Aa)).appendTo(h),B.find(".ivThumbImage").css("background",'url("'+w.thumbUrl+'") center no-repeat'),b.isDefined(w)){var p={position:"triggerTop"},r=y.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
r.find(".ivVideoPopoverTitle").text(w.title);r.find(".ivVideoPopoverDuration").text(w.durationTimestamp);p.inlineContent=r[0];e.declarative.create(B,"a-tooltip",p)}f=y.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=f.find(".placeholder");for(l=0;l<Ga;l++)g=pa[l],h=c.clone().removeClass("placeholder").appendTo(f),h.attr("id","ivVideoList_"+l),h.find(".ivThumbImage").css("background",'url("'+g.thumbUrl+'") center no-repeat'),h.find(".ivThumbTitle").text(g.title),
h.find(".ivThumbDuration").text(g.durationTimestamp);y.find("#ivLarge360").empty();ua=0;Gb=Fb=!1;pb=F.airyConfig;eb=!1;xa()}}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else n.postCountMetric("immersiveViewNotExistsClickCount")}function ha(a){var f=F.colorToAsin[a],d={},l=500;if(f&&f.asin){d.params={asin:f.asin};var e="360"+f.asin,h=Date.now();d.success=function(f){c("dppc_asyncRequestTime360",
Date.now()-h);f&&b.isDefined(f.spin360.spin360Model)?(b.ajaxState(e,"success"),F.spin360ColorData[a]=f.spin360.spin360Model,a===fa.getCurrentItem().color&&(ca=F.spin360ColorData[a],Q())):d.error()};d.error=function(){n.postCountMetric("dppc_asyncFailed360");c("dppc_asyncRequestTime360",Date.now()-h);l*=2;16E3>=l?setTimeout(function(){h=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",d)},l):b.ajaxState(e,"fail")};b.ajaxState(e)&&"fail"!==b.ajaxState(e)||(g.load("/gp/product/features/apparel-main-image/360.html",
d),b.ajaxState(e,"sent"))}}function Z(){return b.isDefined(F.spin360ConfigEnabled)&&F.spin360ConfigEnabled}var ia,F,fa,oa,ba,y,sa,ta,pa,da,ja,Ga,Aa,X,ka,pb,ca,Jb,Ba,Za,cb,bb,Ib,Hb,Kb=!1,Fb=!1,Gb=!1,rb=0,sb=0,$a=0,ab=0,Ka=!1,Ja=!1,ua=0,db,qb=navigator.userAgent.match(/msie|trident/i),eb=!0,Ia=!1,Ha=!1,La={},va={},la,Da,Ma;x.when("a-modal").execute(function(a){Ma=a});var xa=e.once(function(){G();f();aa();e.on("a:popover:afterUpdatePosition:immersiveView",M);e.on("a:popover:afterShow:immersiveView",
O);e.on("a:popover:afterHide:immersiveView",B);p()});return function(f,c,l,h){ia=this;F=f;fa=c;d.refToModel=fa;oa=h;Z()&&(F.spin360ColorData[F.landingAsinColor]=F.spin360ColorData[F.defaultColor],F.spin360ColorEnabled[F.landingAsinColor]=F.spin360ColorEnabled[F.defaultColor]);b.isDefined(F.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",k.addStyleCodeToURL(F.staticImages.icon360,"_FMpng_RI_"));ia.render=function(a,f,c,d,l,h){eb=!0;Z()&&F.spin360ColorEnabled[a]&&
!b.isDefined(F.spin360ColorData[a])&&(F.spin360ColorData[a]={},ha(a));b.isImmersiveViewEnabled(F,fa.getCurrentItem().color)&&Z()&&F.spin360ColorEnabled[a]&&(f===F.maxAlts&&(a=d.find(".item.imageThumbnail"),c=d.find(".item.videoThumbnail"),b.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),f--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),d.append(a),f++,n.postCountMetric("dppc_display360"));
return f};ia.update=function(a){};b.isImmersiveViewEnabled(F,fa.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");oa.register("imageClick",w);oa.register("button360Click",w)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,a,b,g,n,d,q){function k(){var b=G.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),
b=b.height()-q.getDimension(d,"padding-top")-q.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",b);P=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<P?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);
e.trigger("dp:image-block:immersive-view:resize")}function r(){e.trigger("dp:image-block:immersive-view:reset")}function p(k){if(b.isImmersiveViewEnabled(M,G.getCurrentItem().color))if(T){var m=k.$event.originalEvent;m.acknowledge&&m.acknowledge(k.$currentTarget[0]);n.isEnabled&&d.logImmersiveViewRequestServed(n);g.postCountMetric("dppc_immersiveViewOpened");b.isDefined(k)&&("button-360-click"===k.action?a("#iv360TabHeading").click():"videoIngressClick"===k.action?(U=k.clickTimeStamp,a("#ivVideosTabHeading").click()):
"showroomIngressClick"===k.action?(U=k.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===k.action?(U=k.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());m=G.getImmersiveViewModalInstance();if(b.isDefined(m))m.show();else{k=a("#auiImmersiveViewDiv");var m=Math.min(Math.max(a(u).height()-150,540),1080),q=Math.min(Math.max(a(u).width()-75,990),1980),m=T.create(k,{name:"immersiveView",activate:"onclick",width:q,height:m,popoverLabel:"ImmersiveView",
hideHeader:!0});G.setImmersiveViewModalInstance(m);k.click()}C&&(C=!1,R(),e.trigger("dp:image-block:immersive-view:init"))}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else g.postCountMetric("immersiveViewNotExistsClickCount")}var N,M,G,t,C=!0,P=0,U,T;x.when("a-modal").execute(function(a){T=a});var R=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",k);e.on("a:popover:afterShow:immersiveView",
k);e.on("a:popover:afterHide:immersiveView",r)}),O=e.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",function(d){var k=b.filter(".iv-active");k.attr("id")!==a(this).attr("id")&&e.trigger("dp:ivTabs:"+k.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();k=a(this).find("a").attr("data-iv-tab-view");a("#"+k).show();"ivVideosTab"===k&&(d.clickTimeStamp=U||d.timeStamp);
e.trigger("dp:ivTabs:"+k+":select",d);g.postCountMetric("dppc_"+k);return!1})});return function(a,d,e,c){N=this;M=a;G=d;n.refToModel=G;t=c;N.render=function(a,b,c,d,e,k){g.postCountMetric("dpcc_altThumbs_"+b);C=!0};N.update=function(a){};N.getTitle=function(){};N.getVariationSelectionInfo=function(){};O();b.isImmersiveViewEnabled(M,G.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");t.register("imageClick",p);t.register("button360Click",p);b.useTabbedImmersiveView(M)&&(t.register("videoIngressClick",
p),t.register("showroomIngressClick",p),t.register("dimensionIngressClick",p))}});"use strict";x.when("A").register("ImageBlockLoader",function(e){return{load:function(a,b){b=b||{};b.timeout=b.timeout||4E3;e.ajax(a,b)}}});"use strict";x.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(e,a,b,g,n,d,q,k,r){function p(a){return null!==a&&"undefined"!==typeof a}function N(b){var f=
0;a.each(b,function(a,b){var c=parseInt(b[1],10);c>f&&(f=c)});return f}function M(b){var f=0;a.each(b,function(a,b){var c=parseInt(b[0],10);c>f&&(f=c)});return f}function G(a,f,b){f=f.width();if(b.naturalMainImageSize)return f;a=N(a);0<a&&(f=Math.min(f,a));return f}function t(a,f,b){f=f.height();if(b.naturalMainImageSize)return f;a=M(a);0<a&&(f=Math.min(f,a));return f}function C(b){var f;a.each(b,function(a,b){p(f)||(f=b[1]/b[0])});return f||1}function P(c,f,d,e,h,k,w,m,q,n,r,p,O,t){var I=a.extend({},
d.foresterMetadataParams);null!==e&&(I.method+="."+e);var E=[];f.disabledViewIds&&(E=f.disabledViewIds);var v="black";"unrolled-video-add"===t&&(v="transparent");return b.embed({parentElement:c[0],streamingUrls:f.url,contentId:f.mediaObjectId,contentMinAge:Number(f.minimumAge||"")||0,contentTitle:f.title,swfUrl:d.swfUrl,foresterMetadataParams:I,backgroundColor:v,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:f.slateUrl,postMediaSlate:f.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===
e)A||(A=!0,g.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(z||(z=!0,g.postCountMetric("dppc_chromefulVideoPlayedPV")),!n){var a=g.buildNexusMetric("ib.thumbnailClick",q,f.mediaObjectId,f.groupType,r,p,O);g.emitNexusMetric(a)}}},cuePoints:[{values:f.durationSeconds-1,type:"position",callback:function(a,b,f){h&&(U(0,k,m),x(w))}}],disabledViewIds:E})}function U(a,b,c){b.fadeTo(500,0,function(){R(a,c);b.fadeTo(500,1)})}function x(a){a&&a.toggle()}function R(b,f){var c=f.find("img");p(c[b])&&
a(c[b]).click()}function O(a,b){S[a]=b?b:S[a];return S[a]}function I(b,f,c){c=c||Q;c=c.colorImages;if(1>c.length||!p(c[b])||!p(f))return-1;var d=-1;a.each(c[b],function(a,b){b.variant===f&&(d=a)});return d}function m(b,f,c){c=c||Q;c=c.colorImages;return!(p(c)&&p(c[b])&&p(c[b][f])&&p(c[b][f].main))||1>a.map(c[b][f].main,function(a,b){return b}).length?-1:c[b][f]}function E(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function c(b,
f){var c;if(c=b.useIV)c=b.colorImages&&b.colorImages[f]&&0<b.colorImages[f].length?!0:!1;q.isEnabled&&(q.IVApplicaple=c,k.logImmersiveViewApplicability(a,q));return c}function h(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var A,z,K,Q=a.extend(!0,{},n,d),S={},v=0,L=0,H=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,D={},J={};return{isDefined:p,isDefinedAndEmpty:function(a){return p(a)&&"object"===typeof a&&
0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return p(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return p(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:C,getMaxHeightOfMainImage:t,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=t(a,b,c);b=G(a,b,c);a=C(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,
b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(p(d)){a=d.offsetWidth/b;a=Math.min(a,c);var e;b=Q.mainImageHeightPartitions;c=Q.mainImageMaxSizes;if(p(c)&&p(b)){for(var h=0,g=u.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)g>b[d]&&(h=d+1);c.length>=h&&(e=c[h])}p(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||Q;var d="";a.each(c.visualDimensions,function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},
createThumbnail:function(a,b,c,d){var g=c.find(".template").clone().removeClass("template").addClass("item"),k=document.createElement("img");k.src=b;g.find(".placeHolder").replaceWith(k);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");p(d)&&g.addClass(d);h()&&g&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",k.parentNode.insertBefore(d,k));e.declarative.create(g,"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),
a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(g)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,e,g,h,k){P(a,b,c,d,e,g,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:P,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(K={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(K)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?
a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:U,toggleVideoCaption:x,
selectThumbnail:R,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:O,getIndexForVariant:I,getImageHash:m,lazyLoadingRequired:function(a,b,c){b=Math.max(I(a.color,b.getCurrentItem().variant,c),0);b=-1!==m(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==O(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:E,repositionVideoBanner:function(a,
b,c,d){setTimeout(function(){var c=a.width()/a.height();E(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!p(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return p(a)&&p(a[b])&&p(a[b].url)?a[b]:-1},isImmersiveViewEnabled:c,playVideoInImmersiveView:function(a,b){return c(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return p(K)?K.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){u.ue&&u.ue.tag&&u.ue.tag(a)},isShoppableScenesEnabled:function(){return r.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:h,
isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return v},updateThumbnailHoverDelay:function(a){if(p(a)){v=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=L;a=a.closest("ul").attr("class");a===ea?c=!1:(a=H.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&
(v=100);L=b}}},setDimensionIngressData:function(a,b,c){D[a]=b;J[a]=c},isDimensionIngressEnabled:function(a){return!!D[a]},getDimensionVariantList:function(a){return J[a]}}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(e,a,b,g){function n(d,e,k,n){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var c=C.getCurrentItem();if(!n||"chromeless-video"!==c.type||!t.autoplayVideo){n=0;if("hero-image"===c.type){n=q(c.color,c.variant);
if(-1===n)return;n=-1!==n?n:0}var h=e+n;h>=k&&(n=0,h=e);e=g.getHeroImageHash(t,c.color,n);-1!==e&&(x.dispatch("updateModel",{data:{index:n,thumbnailIndex:h,variant:e.variant,type:"hero-image"}}),e=d.find(".item").get(h),b.selectGivenThumbnail(a(e),d))}}}function d(d,e,g){if("hero-video"===C.getCurrentItem().type)return d;e=t.heroImage&&t.heroImage[e];var k=d;b.isDefined(e)&&(a.each(e,function(a,e){d<t.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:e.variant},e.thumb,
U,"imageThumbnail"),d++)}),n(U,k,d,g));return d}function q(d,e){var g=t.heroImage;if(1>g.length||!b.isDefined(g[d])||!b.isDefined(e))return-1;var k=-1;a.each(g[d],function(a,b){b.variant===e&&(k=a)});return k}function k(){if(T.length&&t.repositionHeroImage){var a=g.getHeroDimParams(t,C.getCurrentItem()),d;b.isDefined(a)&&(d=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",T.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+
"px ",filter:"","-ms-filter":""}))}}function r(a,d,e,k){if(T.length&&a&&d){if("function"===typeof e||k){var c=new Image;c.onload=k?function(){T.css("background-image",'url("'+a+'")')}:e;c.src=a}e=d[1];var c=d[0],h;k||T.css({"background-image":'url("'+a+'")'});t.repositionHeroImage&&(d=g.getHeroDimParams(t,C.getCurrentItem(),d),b.isDefined(d)&&(e=d.width,c=d.height,h=b.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));T.css({"background-position":h,"background-size":e+"px "+c+"px ",
"max-width":e+"px ","min-height":c+"px ",filter:"","-ms-filter":""})}}function p(b,d,e,k){b=g.getHeroImageHash(t,b,d);if(-1===b)return-1;d=a.map(b.main,function(a,b){return b})[0];r(d,b.main[d],e,k)}function u(a,b,d){if("hero-image"!==a.type)return-1;var e=q(a.color,C.getCurrentItem().variant),e=-1!==e?e:0;if(-1===g.getHeroImageHash(t,a.color,e))return-1;var c=C.getCurrentItem();a.thumbnailIndex=c.thumbnailIndex;a.type=c.type;a.variant=c.variant;a.index=e;M(a,b,d)}function M(a,b,d){var k=g.getHeroImageHash(t,
a.color,a.index),c;c=a&&R&&e.equals(a,R)?!0:!1;R||(R=a);if(!c&&a||b)p(a.color,a.index,b,d),R=a;T.removeClass("hide-background");e.trigger("dp:image-block:update",k)}var G,t,C,x,U,T,R={};return function(e,g,m,q){G=this;t=e;C=g;x=q;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];G.render=function(b,e,g,k,q,m,n){U=k;T=a("#heroImage");b=d(e,b,m);u(C.getCurrentItem(),n,m);return b};G.update=function(a){var d=a.data;"ingress"!==d.type&&T.addClass("hide-background");"swatchHover"===a.type?a.captured||
(d.type=C.getCurrentItem().type,-1!==u(d)&&(a.captured=!0)):"hero-image"===d.type&&(M(d),"click"!==a.type&&t.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,U))};x.register("resize",k)}});"use strict";x.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(e,a,b){var g,n,d,q;return function(a,r,p,u){g=this;n=a;d=u;g.render=function(a,d,k,r,p,u,N){q=r;g=this;k=n.maxAlts;r=d;p=n.colorImages[a]?n.colorImages[a].length:0;p+=b.getVideosCount(a,n);a=n.heroImage[a];
u=0;a&&(u=a.length);a=p+u;a>k&&(k=a-k,a=q.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),k+="+",r={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(k),e.declarative.create(a,"thumb-action",r),q.append(a),r=d++);return r};g.update=function(a){"ingress"===a.data.type&&"click"===a.type&&d.dispatch("imageClick",a)}}});"use strict";x.when("imageBlockUtils").register("ImageBlockState",function(e){return function(a,
b,g){this.getImageHash=function(b){var d=g.getCurrentItem();b=e.getIndexForVariant(d.color,b||"MAIN",a);return e.getImageHash(d.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";x.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,a){function b(a,b){var e;if(b.repositionHeroImage){e=a[1];var g=a[0];if(768>=(u.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight))e*=.7,g*=.7;else{var n=((u.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,n=Math.max(Math.min(n,1),0);e*=.7+.3*n;g*=.7+.3*n}e=[e,g]}return e}function g(b,e,g){var n;if(g.repositionHeroImage){var p=u.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;g=g.heroFocalPoint;if(a.isDefined(g)){n=Math.max((p-Math.min(1500,b))/2,0);var N=Math.max((p-b)/2,0);n-=N;p=Math.max(Math.min(p,1500),1024);n=n+(p-420-23)/2-b/
e[1]*g}}return n}function n(b,g,k){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[g])&&a.isDefined(b[g][k])&&a.isDefined(b[g][k].main))||1>e.map(b[g][k].main,function(a,b){return b}).length?-1:b[g][k]}return{getHeroImageHash:n,getHeroDimParams:function(d,q,k){if(d.repositionHeroImage){if(!a.isDefined(k)){k=n(d,q.color,q.index);if(-1===k)return;q=e.map(k.main,function(a,b){return b})[0];k=k.main[q]}q=b(k,d);d=g(q[0],k,d);return{height:q[1],width:q[0],xPos:d,yPos:75}}}}});"use strict";x.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(e){function a(){this.render=function(){};this.update=function(){}}return function(b,g,n,d){var q=!1,k=new a;x.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ea&&(q=!0,k=new a(b,g,n,d))});b&&!0===b.showroomEnabled&&!1===q&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return k}});"use strict";x.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,a,b){function g(a,g){var k=e.copy(a);
if(b.isDefined(a)&&a.length>g){try{for(var n=-1,p=0;p<a.length;p++){var u=a.charAt(p);if(" "===u||"."===u||"?"===u||";"===u||","===u||":"===u)n=p;if(p===g-4){k=a.substring(0,-1===n?p:n);break}}}catch(M){k=a.substring(0,g-3)}k+="..."}return k}function n(a,b){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+b+a.substring(e):a.substring(0,e)+"."+b+a.substring(e)}return{getDimension:function(a,b){var e=parseInt(a.css(b),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,
b){e.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){e.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:n,getResizedThumbnailURL:function(a,
b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var e="_AA50_";b&&(e+="FMpng_RI_");return n(a,e)},populateVariationSelection:function(d){if(b.isDefined(u.DetailPage)&&b.isDefined(u.DetailPage.StateController)){d.empty();var e=u.DetailPage.StateController.getState(),g=e.variation_label_order,n;for(n in g)if(g.hasOwnProperty(n)){var p=g[n],x=e.selected_variations[p],
p=e.variation_display_labels[p];x&&a("\x3cdiv/\x3e").addClass("ivVariations").text(p+":"+x).appendTo(d)}}},populateTitle:function(a,b,e){a.html(e.title);a.attr("title",a.text());a.html(g(e.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,e,g){u.ueLogError&&u.ueLogError(g,{logLevel:a,attribution:b,message:e})}}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",
function(e,a,b,g,n){function d(){n.populateTitle(m.find("#ivTitle"),160,O)}function q(){var a=I.getCurrentItem().color;c=O.colorImages[a];E=O.heroImage[a];h=A=0;b.isDefined(E)&&(h=E.length);b.isDefined(c)&&(A=c.length)}function k(a){return a.hiRes||a.large||a.main[a.main.length-1]}function r(){var a=m.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),g=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&
(g=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,g=0===g?1:g,h=Math.min(b/e,c/g),k=g*h,l=e*h;1>h?(K?a.css("cursor","url('"+O.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),v=!0):v=!1;e=Math.min(l,e);g=Math.min(k-20,g);d.css({"margin-top":(c-g)/2,"margin-left":(b-e)/2,height:g,width:e});a.css("visibility","visible");S=!1}function p(a){var b=m.find("#ivLargeImage");b.css("visibility","hidden");b.empty();n.animateStageIn(b);
b.append(a);r()}function u(d){m.find("#ivLargeImage").css("display","none");m.find("#ivLargeImage").css("display","block");var e;"hero-image"===d?b.isDefined(E)&&(e=k(E[z.index])):b.isDefined(c)&&(e=k(c[z.index]));if(b.isDefined(e)){m.find(".fullscreen").remove();var g=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),h=m.find("#ivLargeImage");n.animateStageOut(h,function(){g.load(function(){p(g)});if(g[0].complete)p(g);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",
O.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function x(a){m.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?z.type="hero-image":z.type="image";z.index=a.attr("id").split("_")[1];u(z.type);g.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(z.index,10)+1)+"_"+(h+A))}function G(){m.delegate(".ivThumb","click",function(){var b=a(this);x(b)})}function t(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function C(a){var b=
H.top-(a.pageY-J[1])*D;a=t(H.left-(a.pageX-J[0])*D,L.left);b=t(b,L.top);m.find(".fullscreen").css({left:a,top:b})}function P(){m.delegate("#ivLargeImage","click",function(a){if(S)r();else if(v){m.find(".fullscreen").removeAttr("style");if(v){var b=m.find("#ivLargeImage"),c=b.find(".fullscreen");K?b.css("cursor","url('"+O.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));S=!0;var d=m.find("#ivLargeImage");L.left=d.width()-
c.width();L.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;J=[b.offset().left+e,b.offset().top+d];H.top=d-c.height()/2;H.left=e-c.width()/2;c.css({position:"relative",left:H.left,top:H.top});D=Math.max(c.height()/b.height(),c.width()/b.width())}C(a);g.postCountMetric("dpcc_iv_largeImageCLick")}});m.delegate("#ivLargeImage","mousemove",function(a){S&&C(a)})}function U(){m.find("#ivLargeImage").empty()}function T(f){if(Q){m=a("#ivMain");q();z=I.getCurrentItem();d();n.populateVariationSelection(m.find("#ivVariationSelection"));
f=m.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();var e=h+A,g=!1;O&&O.dimensionIngressAtfData&&O.dimensionIngressAtfData.initial&&(g=O.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var k=0,p=0;k<e;)for(var w=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),r=0;4>r&&k<e;r++,k++,p++)if(p<h){var t=E[k].thumb,v=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+k,
"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":k+1}).appendTo(w);v.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(t)+'") center no-repeat')}else if(p>=h&&p<A+h){t=O.colorToAsin[I.getCurrentItem().color].asin;t||(t=O.mediaAsin);if((v=b.isDimensionIngressEnabled(t))&&g){if((t=b.getDimensionVariantList(t))&&t.includes(c[k-h].variant)){r--;continue}}else if(v&&"DIMN"===c[k-h].variant){r--;
continue}t=c[k-h].thumb;v=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(k-h),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":k-h+1}).appendTo(w);v.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(t)+'") center no-repeat')}l();Q=!1}else d();f=a("#ivImagesTab").height();m.css("height",f);e=m.find("#ivTitle").outerHeight(!0);g=m.find("#ivVariationSelection").outerHeight(!0);
k=m.find("#ivThumbs");p=n.getDimension(k,"margin-top")+n.getDimension(k,"margin-bottom");k.css("height",f-e-g-p);m.find("#ivLargeImage").css("height",f);f=m.find("#ivStage");e=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||m.width();f.css("width",e-n.getDimension(m,"padding-left")-n.getDimension(m,"padding-right")-m.find("#ivThumbColumn").width()-n.getDimension(f,"margin-left")-n.getDimension(f,"margin-right"));z=I.getCurrentItem();f="hero-image"===z.type?m.find("#ivHeroImage_"+
z.index):"image"===z.type?m.find("#ivImage_"+z.index):b.isDefined(E)?m.find("#ivHeroImage_"+z.index):m.find("#ivImage_"+z.index);b.isjQueryObjDefined(f)||(f=m.find("#ivImage_0"));x(f)}var R,O,I,m,E,c,h,A,z,K=navigator.userAgent.match(/msie|trident/i),Q=!0,S=!1,v=!1,L={},H={},D,J,Q=!0,l=e.once(function(){G();P();n.attachImmersiveViewResizeHandler(T);n.attachTabDeselectHandler("ivImagesTab",U)});return function(b,c,d,e){R=this;O=b;I=c;R.render=function(b,c,d,f,e,g){Q=!0;q();0===h+A?n.hideTabHeading("ivImagesTabHeading"):
n.unhideTabHeading("ivImagesTabHeading");1===h+A?a("#ivThumbs").hide():a("#ivThumbs").show()};R.update=function(a){};n.attachTabSelectHandler("ivImagesTab",T)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,a,b,g,n,d,q){function k(){h.delegate(".ivThumb","click",function(){var b=a(this);h.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(A.type="chromeful-video",A.index=b.attr("id").split("_")[1])})}function r(){if(w){var b=a("#ivVideosTab").height();h.css("height",b);var c=h.find(".vse-lb-container");z=b-n.getDimension(c,"padding-top")-n.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(B){h.css({"max-width":Math.floor(1.77*z)});return}var b=h.find(".vse-player-container"),c=h.find(".vse-video-action-strip"),d=h.find(".vse-lb-video-metadata"),f=Math.floor(z-n.getDimension(d,
"height")-n.getDimension(c,"height")),e=Math.floor(1.77*f);b.css({"max-height":f,"max-width":e,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":e,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":e,marginLeft:"auto",marginRight:"auto"})}W&&(b=h.find(".vse-vertical-scroll"),c=n.getDimension(b,"margin-top")+n.getDimension(b,"margin-bottom"),b.css("max-height",z-c))}function p(){x();K&&K.pause();Y=!1;l=!0;L=null;aa=!0;w=!1}function x(){Y=!1;K&&K.pause()}function M(d){L=d.clickTimeStamp?
d.clickTimeStamp:e.now();b.isDefined(c)&&(c.eventTimestamp=L);Y=!0;f&&(q.get(e,"#ivVideoBlock",E,ba,y),h=a("#ivVideoBlock"),m.getCurrentItem(),A=m.getCurrentItem(),F(),T());r();f=!1;C()}function G(b){f&&(h=a("#ivVideoBlock"),m.getCurrentItem(),A=m.getCurrentItem(),F());Y&&C();r()}function t(a){K=a.player;g.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-ia);I.imageBlockRenderingStartTime&&g.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-I.imageBlockRenderingStartTime);
w&&(T(),C())}function C(){if(K&&Y&&(h.find(".vse-lb-container").animate({opacity:1},200),K.play(c),g.postCountMetric("dpcc_vse_videoBlock_video_played"),l)){var a=u.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,g.postTimeMetric("dpcc_vse_vitff",a),l=!1)}}function P(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function U(a){Q=a.popover.$popover;w=!0;T()}function T(){if(w&&aa&&Y&&K){Q.addClass(e.$(Q).find(".vse-lb-container").data("cssClass"));var a=c;ha&&(a=
Z,ha=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});r();aa=!1}}function R(a){document.getElementsByClassName("videoBlockIngress")[0].click();Z=a;ha=!0}var O,I,m,E,c,h,A,z,K,Q,S,v,L,H,D,J,l=!0,f=!0,B=!1,W=!1,Y=!1,aa=!0,w=!1,ha=!1,Z,ia=0,F=e.once(function(){k();n.attachImmersiveViewResizeHandler(G);n.attachTabDeselectHandler("ivVideosTab",x);n.attachImmersiveViewResetHandler(p)}),fa=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");
g.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=m.getCurrentItem().color;c=b.getVideoHash(c,0,I);K||(K=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,I.airyConfig,"ImmersiveView"));B=!0;a("#ivVideoBlock").css({"max-width":1.77*z,margin:"0 auto"});Y&&B&&K.play({isAsync:!0})},oa=function(b,c,d){f||q.get(b,"#ivVideoBlock",E,ba,y);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ba=function(a,b,c){W=!0;r()},y=function(a,b,c){g.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
b.pageContext.placement+"_"+b.configuration.type)};return function(a,g,h,k){O=this;I=a;m=g;O.render=function(a,g,h,k,l,w){a=m.getCurrentItem().color;g=b.getVideoHash(a,0,I);!0===w?S=I.mediaAsin:(S=I.colorToAsin[a]&&I.colorToAsin[a].asin,S=b.isDefined(S)?S:I.mediaAsin);v=null!==I.vseVideoDataSourceTreatment&&"T1"===I.vseVideoDataSourceTreatment?"ASIN":"physicalID";H=I.contentWeblab;D=I.contentWeblabTreatment;J=I.parentAsin||"";f=!0;-1===g?n.hideTabHeading("ivVideosTabHeading"):(n.unhideTabHeading("ivVideosTabHeading"),
E={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:g.marketPlaceID,locale:g.languageCode,product:{contentID:S,contentIDType:"ASIN",parentContentID:J,parentContentIDType:"ASIN"},video:{contentID:g.mediaObjectId,contentIDType:v,videoURL:g.url,imageURL:g.slateUrl},requestId:I.dpRequestId,weblabContext:[{name:H,assignment:D,ignoreForG2S2Key:!0}],metadata:{ProductTitle:I.title}},c={videoUrl:E.video.videoURL,contentId:E.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(L)?
L:e.now(),imageUrl:E.video.imageURL,productAsin:E.product.contentID,index:0},b.isDefinedAndNotEmpty(K)&&(K.destroy(),K=null),ia=e.now(),d.get(e,"#ivVideoBlock",E,oa,fa))};O.update=function(a){};n.attachTabSelectHandler("ivVideosTab",M);e.on("vsePlayer-detailpage-imageblock",t);e.on("a:popover:afterShow:immersiveView",U);e.on("a:popover:beforeHide:immersiveView",P);e.on("detailpage-imageblock-leave-pip",R)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(e,a,b,g,n,d,q,k,r){function p(){var b=a("#iv360Tab").height();D.css("height",b);var c=D.find("#ivTitle360").outerHeight(!0),d=D.find("#ivVariationSelection360").outerHeight(!0),f=D.find("#ivThumbs360"),e=q.getDimension(f,"margin-top")+q.getDimension(f,"margin-bottom");f.css("height",b-c-d-e);b=D.find("#ivStage360");c=D[0]&&D[0].getBoundingClientRect&&Math.floor(D[0].getBoundingClientRect().width)||
D.width();b.css("width",c-q.getDimension(D,"padding-left")-q.getDimension(D,"padding-right")-D.find("#ivThumbColumn360").width()-q.getDimension(b,"margin-left")-q.getDimension(b,"margin-right"))}function u(){C();var a=D.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});q.animateStageIn(a)},200);x()}function x(){if(0<y){var a=D.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function G(b,c){if(y<b.length){var e=a("\x3cimg /\x3e").css({display:"block",
width:6*l+"px",height:f+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(y++,1===y&&(x(),0<F&&(n.time("dppc_loadTime360",Date.now()-F,v.mediaAsin),d.postTimeMetric("dppc_loadTime360",Date.now()-F))),0<fa&&(n.time("dppc_perSpriteloadTime360",Date.now()-fa,v.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-fa)),D.find("#iv360Spinner").hide(),e.show(),Z=5*J.imageLocations[Math.floor(ia/J.imageLocations[0].length)][ia%J.imageLocations[0].length],
G(b,c))};e.attr("src",b[y].replace(/(\._SP)\d+(,)\d+/,"$1"+W+"$2"+B));fa=Date.now()}}function t(a){if(b.isDefined(J.spriteWidthSizes)&&0<J.spriteWidthSizes.length){var c=J.spriteWidthSizes,d=c.length,f=c[0],e=c[d-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<d;f++)if(a>c[f]&&a<=c[f+1])return c[f+1]}else return a}function C(){var b=D.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",v.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),w=!0,P())}function P(){if(b.isDefined(J.spriteURLs)&&b.isDefined(D)&&w&&!ha){var c=D.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(J.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",J.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(v.staticStrings.dragToSpin).appendTo(d);d.appendTo(c);var d=J.imageWidth,e=J.imageHeight,g=c.parent().width(),h=c.parent().height(),k=0,n=0;d/e>g/h?(W=t(g),B=Math.round(e/d*W),l=Math.ceil(g),f=Math.ceil(B/W*g),n=(h-f)/2):(B=t(h),W=Math.round(d/
e*B),f=Math.ceil(h),l=Math.ceil(W/B*h),k=(g-l)/2);c.css({"margin-left":k,"margin-top":n,width:l+"px",height:f+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*l+"px");G(J.spriteURLs,D.find("#image-360-sprites"),0);d=D.find("#ivLarge360");d.bind("mousedown",O);d.bind("touchstart",U);d.bind("touchmove",T);d.bind("touchend",R);a(document).bind("mousemove",I);a(document).bind("mouseup",m);b.isDefined(v.staticImages.grab)&&c.css("cursor","url('"+v.staticImages.grab+
"'), auto");ha=!0}}function U(a){ba=!0;aa=a.originalEvent.targetTouches[0].clientX}function T(a){ba&&(E(a.originalEvent.targetTouches[0].clientX-aa),aa=a.originalEvent.targetTouches[0].clientX)}function R(a){ba&&(ba=!1)}function O(a){oa=!0;Y=a.originalEvent.clientX;b.isDefined(v.staticImages.grabbing)&&(a=D.find("#ivLarge360"),a.css("cursor","url('"+v.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+v.staticImages.grabbing+"'), auto"));return!1}function I(a){oa&&
(E(a.originalEvent.clientX-Y),Y=a.originalEvent.clientX)}function m(a){oa&&(oa=!1,b.isDefined(v.staticImages.grab)&&(a=D.find("#ivLarge360"),a.css("cursor","url('"+v.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function E(a){Z-=a/l*180;ta&&(n.count("dppc_360dragToSpin",v.mediaAsin),d.postCountMetric("dppc_360dragToSpin"));ta=!1;for(a=Z;0>a;)a+=360;for(;360<a;)a-=360;Z=a;var c;a=360;for(var e=0;e<y;e++)for(var g=0;g<J.imageLocations[e].length;g++){var h=Math.abs(Z-
5*J.imageLocations[e][g]);h<a&&(a=h,c=e*J.imageLocations[0].length+g)}c!==ia&&(a=Math.floor(c/J.imageLocations[0].length),a!==Math.floor(ia/J.imageLocations[0].length)&&(b.isDefined(sa)||(sa=document.createElement("canvas").getContext("2d")),e=D.find("#image-360-sprites").children(),sa.drawImage(e[a],0,0)),a=D.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ia=c;a=c%J.imageLocations[0].length*-1*l;c=-1*Math.floor(c/J.imageLocations[0].length)*
f;e=D.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");e.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function c(){if(da){D=a("#ivMain360");var b=L.getCurrentItem().color;A()&&z(b);J=A()?v.spin360ColorData[b]:ea;q.populateTitle(D.find("#ivTitle360"),160,v);q.populateVariationSelection(D.find("#ivVariationSelection360"));D.find("#ivLarge360").empty();y=0;ha=w=!1;ia=Z=0;ja();da=!1}0!==a("#iv360Tab").height()&&(q.detachImmersiveViewResizeHandler(c),
p(),u(),F=Date.now(),pa=ta=!0,n.count("dppc_click360",v.mediaAsin),d.postCountMetric("dppc_click360"))}function h(a,c,f){a=v.colorToAsin[f];var e={},h=500;if(!a||!a.asin)if(f===v.defaultColor)a={asin:v.winningAsin};else return;e.params={asin:a.asin};var l="360"+a.asin,w=Date.now();e.success=function(a){n.time("dppc_asyncRequestTime360",Date.now()-w,v.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-w);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&k.setData(a),b.ajaxState(l,
"success")):e.error()};e.error=function(){n.count("dppc_asyncFailedTransient360",v.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");n.time("dppc_asyncRequestTime360",Date.now()-w,v.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-w);h*=2;16E3>=h?setTimeout(function(){w=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",e)},h):(n.count("dppc_asyncFailed360",v.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),b.ajaxState(l,"fail"))};b.ajaxState(l)&&"fail"!==
b.ajaxState(l)||(g.load("/gp/product/features/apparel-main-image/360.html",e),b.ajaxState(l,"sent"))}function A(){return v&&b.isDefined(v.spin360ConfigEnabled)&&v.spin360ConfigEnabled}function z(a){return b.isDefinedAndNotEmpty(v.spin360ColorData[a])?!0:b.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled}function K(){pa&&(n.time("dppc_duration360",Date.now()-F,v.mediaAsin),d.postTimeMetric("dppc_duration360",Date.now()-F),pa=!1)}function Q(a){a=v.colorToAsin[a.color]&&v.colorToAsin[a.color].asin;
a||(a=v.mediaAsin);return a}var S,v,L,H,D,J,l,f,B,W,Y,aa,w=!1,ha=!1,Z=0,ia=0,F=0,fa=0,oa=!1,ba=!1,y=0,sa,ta=!0,pa=!1,da=!0,ja=e.once(function(){q.attachImmersiveViewResizeHandler(c);q.attachImmersiveViewResizeHandler(p);q.attachImmersiveViewResetHandler(K);q.attachTabDeselectHandler("iv360Tab",K)});return function(f,g,l,w){S=this;v=f;L=g;H=w;f=v.landingAsinColor;g=v.defaultColor;b.isDefined(v.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
q.addStyleCodeToURL(v.staticImages.icon360,"_FMpng_RI_"));A()&&(v.spin360ColorData||(v.spin360ColorData={}),f===g&&b.isDefinedAndEmpty(v.spin360ColorData[g])&&delete v.spin360ColorData[g]);e.on(r.TWISTER_DATA_EVENT,function(a){Q(L.getCurrentItem())===a&&(J=k.getData(a),P(),a={type:"updatedData",data:L.getCurrentItem()},H.dispatch("updateView",a))});S.render=function(c,f,g,l,w,m){da=!0;!A()||b.isDefinedAndEmpty(v.spin360ColorData[c])&&!k.getData(Q(L.getCurrentItem()))?q.hideTabHeading("iv360TabHeading"):
(v.spin360ColorData[c]=k.getData(Q(L.getCurrentItem())),b.isDefinedAndNotEmpty(v.spin360ColorData[c])?(a("#ivThumbs360").hide(),q.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(v,L.getCurrentItem().color)&&A()&&z(c)&&(f===v.maxAlts&&(c=l.find(".item.imageThumbnail"),f=l.find(".item.videoThumbnail"),b.isDefined(f)&&1<f.length?f.last().remove():c.last().remove()),c=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(c,
"button-360-click"),l.append(c),n.count("dppc_display360",v.mediaAsin),d.postCountMetric("dppc_display360"))):b.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled?(v.spin360ColorData[c]={},q.hideTabHeading("iv360TabHeading"),h(l,f,c)):q.hideTabHeading("iv360TabHeading"))};S.update=function(a){};q.attachTabSelectHandler("iv360Tab",c)}});x.register("nexusLogger360",function(){return{count:function(e,a){u.ue&&u.ue.event({asin:a,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(e,a,b){u.ue&&u.ue.event({asin:b,metricName:e,metricValue:a},"hit-360","hit360.clientEvent.3")}}});x.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});x.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,a){var b={};return{setData:function(g){var n=g.asin;b[n]||(b[n]=g,e.trigger(a.TWISTER_DATA_EVENT,n))},getData:function(a){return b[a]}}});"use strict";x.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils",
"postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(e,a,b,g,n){function d(b,c){var d=a(b+" image").attr("data");a(b+" image")[0].setAttribute("href",d);var f=new Image;f.src=d;f.onload=function(){c(this.width/this.height)}}function q(b){null!=a(b.euclidSvg)&&0!==a(b.euclidSvg).length&&(new Promise(function(a,c){d(b.euclidSvg,a)})).then(function(c){var d,f,e,g,h,l,m,q,t,u,z,x,B,C,D,E,I,G,O,H,M,R,N,J,P,T,K,Q,S,aa,ea,ab,Ka,Ja,ua,db,qb,eb,Ia,Ha,La,va,la;if(null===a(b.featureDiv)||
0===a(b.featureDiv).length||0>=c)la=null;else{var Da=a(b.featureDiv).width(),Ma=a(b.featureDiv).height(),xa=2*(16+k(b.euclidHeightText,b.numberSpace)+10),Ca=Da-xa,vb=a(b.euclidHeightLine).data("euclid-height-startx");0>vb?xa+=Ca*Math.abs(vb)*2:1<vb&&(xa+=Ca*(vb-1)*2);Ca=Da-xa;0>Ca&&(xa=152);var Lb=a(b.euclidWidthLine).data("euclid-width-starty"),Mb=1<Lb?Ma*(Lb-1)+50:50,wb=Ma-Mb;if(Ca/wb>c)var Nb=wb*c,Ob=wb,Pb=wb*c+xa,Qb=Ma;else Nb=Ca,Ob=Ca/c,Pb=Da,Qb=Ca/c+Mb;la={imageWidth:Nb,imageHeight:Ob,svgWidth:Pb,
svgHeight:Qb}}if("undefined"===typeof la||null===la||10>=la.imageWidth||10>=la.imageHeight||10>=la.svgWidth||10>=la.svgHeight)n.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var wa=la,ga=b.euclidSvg;a(ga+" image").attr("width",wa.imageWidth);a(ga+" image").attr("height",wa.imageHeight);a(ga).attr("width",wa.svgWidth);a(ga).attr("height",wa.svgHeight);var vc=(wa.svgWidth-wa.imageWidth)/2;a(ga+" image")[0].setAttribute("x",vc);a(ga+" image")[0].setAttribute("y",10);var fb=wa.imageWidth,
gb=wa.imageHeight,V=(wa.svgWidth-wa.imageWidth)/2,Na=a(b.euclidLengthLine).data("euclid-length-startx")*fb,Oa=a(b.euclidLengthLine).data("euclid-length-starty")*gb,Pa=a(b.euclidLengthLine).data("euclid-length-endx")*fb,Qa=a(b.euclidLengthLine).data("euclid-length-endy")*gb,Ra=a(b.euclidWidthLine).data("euclid-width-startx")*fb,Sa=a(b.euclidWidthLine).data("euclid-width-starty")*gb,Ta=a(b.euclidWidthLine).data("euclid-width-endx")*fb,Ua=a(b.euclidWidthLine).data("euclid-width-endy")*gb,hb=a(b.euclidHeightLine).data("euclid-height-startx")*
fb,ib=a(b.euclidHeightLine).data("euclid-height-starty")*gb,jb=a(b.euclidHeightLine).data("euclid-height-endx")*fb,kb=a(b.euclidHeightLine).data("euclid-height-endy")*gb,Rb=(Ua-Sa)/(Ta-Ra),Sb=0>=Rb?"leftInclined":"rightInclined",xb=1/Rb,ma=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(xb,2)))),qa=0===ma?16:Math.abs(xb*ma),ya=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(xb,2)))),Ea=0===ya?3:Math.abs(xb*ya),Tb=(Qa-Oa)/(Pa-Na),yb=1/Tb,na=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(yb,2)))),ra=0===
na?16:Math.abs(yb*na),za=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(yb,2)))),Fa=0===za?3:Math.abs(yb*za),Ub=0>=Tb?"leftInclined":"rightInclined";if(.5<a(b.euclidHeightLine).data("euclid-height-startx")){var zb=hb+V+16,Ab=ib+10,Bb=jb+V+16,Cb=kb+10,Vb=hb+V+16-3,Wb=ib+10,Xb=hb+V+16+3,Yb=ib+10,Zb=jb+V+16-3,$b=kb+10,ac=jb+V+16+3,bc=kb+10,cc=(zb+Bb)/2+5,dc=(Ab+Cb)/2+8,Va=Ta+V+ma,Wa=Ua+qa+10,Xa=Ra+V+ma,Ya=Sa+qa+10,ec=Ta+V+ma-ya,fc=Ua+qa-Ea+10,gc=Ta+V+ma+ya,hc=Ua+qa+Ea+10,ic=Ra+V+ma-ya,jc=Sa+qa-Ea+10,kc=
Ra+V+ma+ya,lc=Sa+qa+Ea+10,tb=(Va+Xa)/2,ub=(Wa+Ya)/2+15;"leftInclined"===Sb?(tb=(Va+Xa)/2,ub=(Wa+Ya)/2+15):(tb=(Va+Xa)/2+5,ub=(Wa+Ya)/2);var lb=Na+V-na,mb=Oa+ra+10,nb=Pa+V-na,ob=Qa+ra+10,mc=Na+V-na-za,nc=Oa+ra+Fa+10,oc=Na+V-na+za,pc=Oa+ra-Fa+10,qc=Pa+V-na-za,rc=Qa+ra+Fa+10,sc=Pa+V-na+za,tc=Qa+ra-Fa+10,wc=k(b.euclidLengthText,b.numberSpace);if("leftInclined"===Ub)var Db=(lb+nb)/2,Eb=(mb+ob)/2+15;else Db=(lb+nb)/2-wc,Eb=(mb+ob)/2+15}else{var zb=hb+V-16,Ab=ib+10,Bb=jb+V-16,Cb=kb+10,Vb=hb+V-16-3,Wb=ib+
10,Xb=hb+V-16+3,Yb=ib+10,Zb=jb+V-16-3,$b=kb+10,ac=jb+V-16+3,bc=kb+10,xc=k(b.euclidHeightText,b.numberSpace),cc=(zb+Bb)/2-xc-3,dc=(Ab+Cb)/2+8,Va=Ta+V-ma,Wa=Ua+qa+10,Xa=Ra+V-ma,Ya=Sa+qa+10,ec=Ta+V-ma-ya,fc=Ua+qa+Ea+10,gc=Ta+V-ma+ya,hc=Ua+qa-Ea+10,ic=Ra+V-ma-ya,jc=Sa+qa+Ea+10,kc=Ra+V-ma+ya,lc=Sa+qa-Ea+10,uc=k(b.euclidWidthText,b.numberSpace);"leftInclined"===Sb?(tb=(Va+Xa)/2-uc,ub=(Wa+Ya)/2):(tb=(Va+Xa)/2-uc,ub=(Wa+Ya)/2+15);lb=Na+V+na;mb=Oa+ra+10;nb=Pa+V+na;ob=Qa+ra+10;mc=Na+V+na+za;nc=Oa+ra+Fa+10;
oc=Na+V+na-za;pc=Oa+ra-Fa+10;qc=Pa+V+na+za;rc=Qa+ra+Fa+10;sc=Pa+V+na-za;tc=Qa+ra-Fa+10;"leftInclined"===Ub?(Db=(lb+nb)/2,Eb=(mb+ob)/2+15):(Db=(lb+nb)/2+15,Eb=(mb+ob)/2)}d=lb;f=mb;e=nb;g=ob;h=mc;l=nc;m=oc;q=pc;t=qc;u=rc;z=sc;x=tc;B=Db;C=Eb;D=Va;E=Wa;I=Xa;G=Ya;O=ec;H=fc;M=gc;R=hc;N=ic;J=jc;P=kc;T=lc;K=tb;Q=ub;S=zb;aa=Ab;ea=Bb;ab=Cb;Ka=Vb;Ja=Wb;ua=Xb;db=Yb;qb=Zb;eb=$b;Ia=ac;Ha=bc;La=cc;va=dc;r(ga+" .hit-pd-euclid-height-line",S,aa,ea,ab);r(ga+" .hit-pd-euclid-height-start",Ka,Ja,ua,db);r(ga+" .hit-pd-euclid-height-end",
qb,eb,Ia,Ha);p(ga+" .hit-pd-euclid-height-text",La,va);r(ga+" .hit-pd-euclid-width-line",D,E,I,G);r(ga+" .hit-pd-euclid-width-start",O,H,M,R);r(ga+" .hit-pd-euclid-width-end",N,J,P,T);p(ga+" .hit-pd-euclid-width-text",K,Q);r(ga+" .hit-pd-euclid-length-line",d,f,e,g);r(ga+" .hit-pd-euclid-length-start",h,l,m,q);r(ga+" .hit-pd-euclid-length-end",t,u,z,x);p(ga+" .hit-pd-euclid-length-text",B,C);b===W&&"dimension-ingress-image"===A.getCurrentItem().type?(U(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),
a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),n.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-v)):b===Y&&(a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").removeClass("aok-hidden"),a("ivDimensionTab").css("display","block"),n.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-L))}})}function k(b,c){return a(b).text().replace(/[^0-9]/g,"").length*c+5}function r(b,c,d,f,e){b=a(b)[0];b!==
ea&&null!==b&&(b.setAttribute("x1",c),b.setAttribute("y1",d),b.setAttribute("x2",f),b.setAttribute("y2",e))}function p(b,c,d){var f=a(b)[0];f!==ea&&null!==f&&(f.setAttribute("x",c),f.setAttribute("y",d),b=a(b+" tspan"),b!==ea&&null!==b&&2===b.length&&(b[0].setAttribute("x",c),b[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),b[1].setAttribute("x",c),b[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function u(b){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||
a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length)if(b=t(b),b in J)J[b].clone().appendTo(a("#imageBlock #main-image-container"));else{var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(c.clone().appendTo(a("#imageBlock #main-image-container")),J[b]=c):x(b)}q(W)}}function x(b){try{setTimeout(function(){l++;var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
c.length?(b in J||(J[b]=c),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&c.clone().appendTo(a("#imageBlock #main-image-container")),q(W)):100>l&&x(b)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+c)}}function G(){a("#image-canvas-caption #canvasCaption").html(h.dimensionIngressAtfData.initial.heroImageCaption)}function t(a){return C(a.color)}function C(a){a=
h.colorToAsin[a].asin;a||(a=h.mediaAsin);return a}function P(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function U(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)}function T(a,c){h.usePeekHover&&"click"!==c.type||
b.selectGivenThumbnail(c.$declarativeParent,a)}function R(a){a.action="dimensionIngressClick";a.data=Q;z.dispatch("dimensionIngressClick",a)}function O(){L=Date.now();if(S&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var b=t(A.getCurrentItem()),c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",c);b in J?J[b].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):
(c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c.length?(c.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),J[b]=c):m(b));g.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,h);g.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));aa();S=!1}I()}function I(){B=a("#ivDimensionTab").height();if(0!==B){g.detachImmersiveViewResizeHandler(O);var b=a("#ivDimensionTab #ivMainDimensions"),
c=a("#ivDimensionTab").height(),d=a("#ivDimensionTab").width();b.css("height",c);b.css("width",d);var d=b.find("#ivTitleDimensions").outerHeight(!0),f=b.find("#ivVariationSelectionDimensions").outerHeight(!0),e=b.find("#ivThumbsDimensions"),h=g.getDimension(e,"margin-top")+g.getDimension(e,"margin-bottom");e.css("height",c-d-f-h);d=b.find("#ivStageDimensions");b=(b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||b.width())-g.getDimension(b,"padding-left")-g.getDimension(b,
"padding-right")-b.find("#ivThumbColumnDimensions").width()-g.getDimension(d,"margin-left")-g.getDimension(d,"margin-right");d.css("width",b);d.css("height",c);q(Y)}}function m(b){try{setTimeout(function(){f++;var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(b in J||(J[b]=c),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),
I()):100>f&&m(b)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+c)}}function E(c,d){H&&clearTimeout(H);"mouseenter"===d.type&&(H=setTimeout(function(){u(c);a("#image-canvas-caption #canvasCaption").empty();G();T(K,d)},b.getHoveringDelayTimer()));"mouseleave"===d.type&&G()}var c,h,A,z,K,Q,S=!0,v,L,H,D,J={},l=0,f=0,B,W={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",
euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},Y={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",
euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},aa=e.once(function(){g.attachImmersiveViewResizeHandler(O)});e.on.resize(function(){q(W)});
return function(d,k,m,q){c=this;h=d;A=k;z=q;d=h.mediaAsin;k=[];h&&h.dimensionIngressAtfData&&h.dimensionIngressAtfData.initial&&(k=h.dimensionIngressAtfData.initial.dimensionVariantList);b.setDimensionIngressData(d,h.dimensionIngressEnabled,k);c.render=function(c,d,e,g,k,m){K=g;S=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();f=l=0;e=t(A.getCurrentItem());if(b.isDimensionIngressEnabled(e)&&
h.dimensionIngressThumbURL&&h.dimensionIngressThumbURL.initial&&h.dimensionIngressThumbURL.initial.length){if((e=b.getDimensionVariantList(e))&&0<e.length){k=h.colorImages[c];m=g.find(".item.imageThumbnail");for(var n=0;n<m.length;n++){var q=k[n].variant;"MAIN"!=q&&e.includes(q)&&(q=m.eq(n))&&(q.remove(),d--)}}d===h.maxAlts&&(g.find(".item.imageThumbnail").last().remove(),d--);Q={type:"dimension-ingress-image",index:0,thumbnailIndex:d,variant:"Main"};b.createThumbnail(Q,h.dimensionIngressThumbURL.initial,
g,"dimension-ingress-imageblock-thumbnail");g=h.dimensionIngressAtfData.initial.thumbnailCaption;g=a("\x3cspan /\x3e").html(g);g.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");g.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(g);d++;a("#ivDimensionTabHeading").removeClass("aok-hidden");C(c)!==h.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&
a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return d}a("#ivDimensionTabHeading").addClass("aok-hidden")};c.update=function(c){var d=c.data;A.setCurrentEvent(c);"dimension-ingress-image"===d.type?(d.interaction=c.type,d.isUserGenerated=!0,"mouseenter"===c.type&&(v=Date.now(),n.postCountMetric("dpcc_dimensionIngressHovered")),b.isImageBlockGridViewHoverDelayEnabled()?E(d,c):(u(d),a("#image-canvas-caption #canvasCaption").empty(),G(),T(K,c)),"click"===c.type&&b.useTabbedImmersiveView(h)&&
(R(c),n.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===c.type?d.color===A.getCurrentItem().color&&"dimension-ingress-image"===A.getCurrentItem().type?U():P():b.isImageBlockGridViewHoverDelayEnabled()?(A.setToPreviousItem(),"mouseenter"===c.type&&(D&&clearTimeout(D),D=setTimeout(function(){A.setToCurrentItem(d);P()},b.getHoveringDelayTimer())),"mouseleave"===c.type&&D&&clearTimeout(D),"click"===c.type&&(A.setToCurrentItem(d),P())):P()};g.attachTabSelectHandler("ivDimensionTab",O);
e.declarative("dimension-hero-click",["click"],R)}});"use strict";x.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,a){x.register("vse_ns_preLoaderHook",function(){function b(g,n){try{var d=g.A,q=g.block,k=g.request,r=g.handleFailure,p=g.handleSuccess,u=d.$;n--;var x=3-n-1,G=d.now();d.ajax("/vap/ew/componentbuilder",{params:k,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:k.timeout||5E3,withCredentials:!0,success:function(a){var b=
d.now()-G;e.postTimeMetric("vse_preLoaderHook:success:",b);e.postCountMetric("vse_preLoaderHook:success:"+k.page+":"+k.placement+":"+x);u(q).html(a);p(d,k,a)},error:function(a){e.postCountMetric("vse_preLoaderHook:error:"+k.page+":"+k.placement+":"+x);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<n?b(g,n):(e.postCountMetric("vse_preLoaderHook:error:",1),r(d,k,a))}})}catch(t){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",t)}}return{get:function(a,e,d,q,k){b({A:a,block:e,
request:d,handleFailure:k,handleSuccess:q},3)}}});x.register("vse_ns_lazyLoaderHook",function(){function b(g,n,d){try{var q=g.A,k=g.context,r=g.handleFailure,p=g.handleSuccess;n.attr("data-configuration");var u=atob(n.attr("data-configuration")),x=JSON.parse(u),G={pageContext:k,configuration:x},t=q.now();d--;var C=3-d-1;q.ajax("/vap/ew/subcomponent/"+x.type,{params:G,paramsFormat:"json",method:"post",contentType:"application/json",timeout:k.timeout||5E3,withCredentials:!0,success:function(a){var b=
q.now()-t;e.postTimeMetric("vse_lazyLoaderHook:success:",b);e.postCountMetric("vse_lazyLoaderHook:success:"+k.page+":"+k.placement+":"+x.type+":"+C);n.html(a);p(q,G,a)},error:function(a){e.postCountMetric("vse_lazyLoaderHook:error:"+k.page+":"+k.placement+":"+x.type+":"+C);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?b(g,n,d):(e.postCountMetric("vse_lazyLoaderHook:error:",1),r(q,G,a))}})}catch(P){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",P)}}return{get:function(a,
e,d,q,k){var r=a.$;r(e+" div[data-configuration]").each(function(){b({A:a,context:d,handleFailure:k,handleSuccess:q},r(this),3)})}}});x.register("vse_ns_videoPlayer",function(){function b(g,n,d){try{var q=g.A,k=g.block,r=g.request,p=g.handleFailure,u=g.handleSuccess,x=q.$;d--;var G=3-d-1,t=q.now();q.ajax("/vap/ew/subcomponent/vseplayer",{params:r,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:r.timeout||5E3,withCredentials:!0,success:function(a){var b=q.now()-
t;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+r.page+":"+r.placement+":"+G);x(k).html(a);u(q,r,a)},error:function(a){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+r.page+":"+r.placement+":"+G);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?b(g,d):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),p(q,r,a))}})}catch(C){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",C)}}return{get:function(a,
e,d,q,k){b({A:a,block:e,request:d,handleFailure:k,handleSuccess:q},3)}}})});"use strict";x.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(e,a,b,g,n){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,e=0,r;for(r in a)a[r]&&a[r].length&&(e+=a[r].length);a="image_size_bucket:gt"+d[d.length-1];for(r=1;r<d.length;r++)if(e<=d[r]){a="image_size_bucket:"+d[r-1]+"-"+d[r];break}n.postCountMetric(a);g.addTag(a)})();(function(){var b=a.colorImages;
b&&b.initial&&b.initial.length&&(b=b.initial.length,u.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;g.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(n.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});x.when("A","get-resource-time","postMetric","afterLoad").execute(function(e,a,b){var g=e.state("desktop-landing-image-data");g&&(g=e.values(g),a=a.getResourceTimeByName("img",g),
e.each(a,function(a){a&&(a.responseEnd!=ea&&b.postCountMetric("ibDesktopLandingImageDownloadTime",u.parseInt(a.responseEnd)),a.transferSize!=ea&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",u.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});x.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(e,a,b,g){function n(b,d){var e=a("\x3cimg src\x3d'"+
(d?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:d?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(d?"active-tag":"inactive-tag");return e}function d(b){var d=a("\x3cspan\x3e");e.each(b.tags,function(b){var g=a("\x3cdiv\x3e").css({position:"absolute",left:100*b.left+"%",top:100*b.top+"%",height:"auto",width:"auto"});g.append(n(b,!1));g.append(n(b,!0));g.bind("mouseenter",function(){q(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});
e.declarative.create(g,"scenes-show-details-tags-ib",{tagId:b.link});d.append(g)});return d.children()}function q(a){a.addClass("mirai-scene-dot-pulsate");e.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function k(a,b){a.css({display:"none"});b.css({display:"inline-block"})}function r(a,b,d){a.eq(d).css({display:"inline-block"});b.eq(d).css({display:"none"})}function p(a){x.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){e.trigger("mirai:scene-details-change",
{physicalId:a})})}function u(){var b=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),d=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(t.staticStrings.shoppableSceneViewProductsButton);return b.append(d).append(e)[0].outerHTML}function M(a){function b(){a.$tagPlaceholder.replaceWith(p);var d=p.find(".mirai-scene-tag.active-tag"),e=
p.find(".mirai-scene-tag.inactive-tag");r(d,e,0);q(p.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));P=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});c=!0;g.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var n=a.$viewProductsButton.find(".a-button-text");if(0===n.children().length){n.append(u());e.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:a.shoppableScene.tags[0].link});var p=d(a.shoppableScene),C=p.find(".mirai-scene-tag.active-tag"),m=p.find(".mirai-scene-tag.inactive-tag"),E=a.shoppableScene.physicalId,c=!1;e.on("mirai:index:change",function(a){a.scenePhysicalId===E&&(a=a.selectedIndices[0],k(C,m),r(C,m,a),q(p.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),P=!0)});e.on("mirai:scene-details-change",function(a){a.physicalId!==E||P||(k(C,m),r(C,m,0),q(p.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
P=!0)});e.on("mirai:no-products-active",function(a){a.scenePhysicalId===E&&k(C,m)});e.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===E&&(k(C,m),r(C,m,0))});e.on("a:image:load:shoppable-scene:"+a.index,function(){c||(b(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});e.on("shoppable-scene-image-loaded",function(d){d.index!=a.index||c||(b(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});x.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){e.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});e.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var G,t,C,P=!1;return function(a,d,e,g){G=this;t=a;C=g;b.isShoppableScenesEnabled()?(C.register("initialize-shoppable-scene",M),G.render=function(a,b,d,c,e,g,k){},G.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?p(a.data.shoppableScene.physicalId):P=!1)}):(a=function(){},G.render=a,G.update=
a)}});x.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
